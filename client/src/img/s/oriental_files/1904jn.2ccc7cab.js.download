(this.$WP=this.$WP||[]).push(["1904jn",(e,t)=>{var a,r,n,o,s,i,c,u,l,E,_,d,S,v,m,T,C,D,g,I,h,R,P,f,M,A,O,N,L,H,p,U,b,G,w=["IB_CLICK","CLICKOUT","ENTER_DATES","EXP_IB_CONFIRM","BA_SOJERN_BL_CLICK","HOTEL_LIST_VIEW","HOTEL_IB_CONFIRM","SHOPPING_CART_LIST","SELECT_B2B_HOTEL_PRODUCT","SELECT_B2B_RESTAURANT_PRODUCT","PURCHASE_B2B_HOTEL_PRODUCT","PURCHASE_B2B_RESTAURANT_PRODUCT","HS_SEM_REVIEW_HUB_SELECT_LISTING","HS_SEM_ADS_SELECT_LISTING","HS_SEM_PREMIUM_SELECT_LISTING","HS_SEM_REVIEW_HUB_SELECT_PRODUCT","HS_SEM_ADS_SELECT_PRODUCT","HS_SEM_PREMIUM_SELECT_PRODUCT","HS_SEM_REVIEW_HUB_PRODUCT_PURCHASE","HS_SEM_ADS_PRODUCT_PURCHASE","HS_SEM_PREMIUM_PRODUCT_PURCHASE","HS_SEM_SPONSORED_PLACEMENTS_CLAIM_HOTEL","HS_SEM_BUSINESS_ADVANTAGE_CLAIM_HOTEL","HS_SEM_REPUTATION_PRO_CLAIM_HOTEL","HS_SEM_SPONSORED_PLACEMENTS_PAYMENT_PAGE","HS_SEM_BUSINESS_ADVANTAGE_PAYMENT_PAGE","HS_SEM_REPUTATION_PRO_SELECT_PAYMENT_PAGE","HS_SEM_SPONSORED_PLACEMENTS_ORDER_CONFIRMATION","HS_SEM_BUSINESS_ADVANTAGE_ORDER_CONFIRMATION","HS_SEM_REPUTATION_PRO_ORDER_CONFIRMATION"],B={enabled:!0,scriptSrcPath:"/static/gtm/gtm.html",scriptSrcHostDomain:"https://www.jscache.com",scriptSrcQueryParams:"",monitoringEnabled:!0},k={MOBILE:2e3,TABLET:2e3,DESKTOP:2e3},y={},q={},V=(e,t)=>t?`${e.scriptSrcHostDomain}${e.scriptSrcPath}?gtmParams=${e.scriptSrcQueryParams}&parentDomain=${encodeURIComponent(t)}`:null,W=()=>{var e=v.get("pbjs_identitylink");return e?.envelope?.envelope},$=e=>F(e)?M:A,F=e=>!!(e.startsWith("hare")||e.match("\\.qa.tripadvisor-preview")),K=(e,t)=>e.enabled&&!q[t],x=e=>{switch(e){case"IB_CLICK":case"CLICKOUT":case"PAGEVIEW":case"BA_SOJERN_BL_CLICK":case"BA_SOJERN_BL_IMPRESSION":return!0;default:return!1}},Y=e=>w.includes(e),j=(e,t,a,r,n,o)=>{e({event:"ENTER_DATES",data:{startDate:t?.toLocaleDateString("en-US")||"",endDate:a?.toLocaleDateString("en-US")||"",numberGuests:r||0,numberRooms:n||0,isDefaultDates:o||!1}})},Q=e=>{var[t,a]=n(!1);return o(()=>{var t=setTimeout(()=>a(!0),e);return()=>clearTimeout(t)},[e]),t},J=()=>{var[e,t]=n(!1);return o(()=>{var e,a=T(a=>{null!=a?t(!0):e=requestIdleCallback(()=>t(!0))});return()=>{e&&cancelIdleCallback(e),a&&C(a)}},[]),e},X=e=>{var t=N(),a=m(),r=O(y[e]||k[a]||2e3);return t||r},z=()=>{H&&(H=new MessageChannel)},Z=()=>H,ee=()=>H?.port1,et=e=>(o(()=>{e||z()},[e]),Z()),ea=()=>{var[e,t]=n("");return o(()=>{t(window.location.origin)},[]),e},er=()=>{var e=l(),t=d(),a=D(),r=m(),{page:n,params:o,path:i}=t,c=t?.path?.match(/(?:g|geo)(\d+)/),u=("geoId"in o?o.geoId:void 0)||(c?Number(c[1]):void 0)||void 0,E="detailId"in o?o.detailId:void 0,_="originId"in o?o.originId:void 0,S=E||u||_||void 0,v=`https://${e}${t.path}`,T=!F(e);return s(()=>({page:n,locationId:S,geoId:u,devicePlatform:r,locale:a,path:i,referringUrl:document.referrer,pageTitle:document.title,fullPageUrl:v,isProd:T}),[r,u,a,S,n,i,v,T])},en=()=>{var e,[t,a]=n(""),r=e=>{var t="";e.forEach(e=>{"fulfilled"===e.status&&(t+=e.value)}),a(t)},i=(e=(e,t)=>new Promise((a,r)=>{var n=()=>{o()},o=I(e,()=>{a(`:${e.toLowerCase()}:`),t.removeEventListener("abort",n)},()=>{r(),t.removeEventListener("abort",n)});t.addEventListener("abort",n)}),s(t=>Promise.allSettled([e(g.TARGETING,t),e(g.PERFORMANCE,t),e(g.FUNCTIONAL,t)]),[]));return o(()=>{var e=!0,t=new AbortController;return i(t.signal).then(t=>{e&&r(t)}),()=>{e=!1,t.abort()}},[i]),t},eo={__key:0xb78cd7f1094f,id:"b78cd7f1094f04318358655f08c7eec0",loc:{},definitions:[]},es=()=>{var e=R();return r.useCallback((t,a)=>{var r=a?{locationId:a,eventType:t,isGeoPage:!0}:{eventType:t,isGeoPage:!1};return e.query(eo,r).toPromise().then(({data:e})=>{var t=e?.gtmData?.audienceIds?.map(e=>e)||void 0,a=e?.gtmData?.hashedPersistentCookie||void 0,r=e?.gtmData?.hashedPersistentCookieSegmentPOC||void 0,n=e?.gtmData?.hashedPersistentCookieSegmentMeta||void 0,o=e?.gtmData?.hashedPersistentCookieSHA1||void 0,s=e?.gtmData?.hashedPersistentCookieSHA256||void 0,i=e?.gtmData?.ipAddressCountry||void 0,c=e?.gtmData?.locationData?.regionName||void 0,u=e?.gtmData?.locationData?.regionId,l=e?.gtmData?.locationData?.countryName||void 0,E=e?.gtmData?.locationData?.countryId;return{audienceIds:t,hashedPersistentCookie:a,hashedPersistentCookieSegmentPOC:r,hashedPersistentCookieSegmentMeta:n,hashedPersistentCookieSHA1:o,hashedPersistentCookieSHA256:s,ipAddressCountry:i,regionName:c,regionId:u,countryName:l,countryId:E,locationHierarchy:e?.gtmData?.locationData?.locationHierarchy||void 0,stateId:e?.gtmData?.locationData?.stateId,stateName:e?.gtmData?.locationData?.stateName||void 0,cityName:e?.gtmData?.locationData?.cityName||void 0}})},[e])},ei=()=>{var e=es(),t=en(),a=er(),r=N(),n=i(!1),c=i([]),u=i(""),l=i([]),E=s(e=>{var t=a();return{event:e.event,data:{...t,...e.data,consent:u.current}}},[a]),_=s((e,t=!1)=>{if(Y(e.event)||t)ee()?.postMessage(e);else{var a={...e,event:`${e.event}_HIGH_PRIORITY`};ee()?.postMessage(a),n.current?ee()?.postMessage(e):l.current.push(e)}},[]),d=s(t=>new Promise(a=>{var{locationId:r}=t.data;e(t.event,r).then(e=>{a({event:t.event,data:{...t.data,...e}})})}),[e]),S=s(e=>{var t=E(e);x(e.event)?d(t).then(e=>{_(t=e)}):_(t)},[E,d,_]),v=s(e=>{if(0===u.current.length){c.current.push(e);return}S(e)},[S]);return o(()=>{r&&(n.current=r,l.current.forEach(e=>_(e,!0)),l.current=[])},[r,_]),o(()=>{u.current=t,u.current.length>0&&(c.current.forEach(e=>v(e)),c.current=[])},[t,v]),v},ec=()=>{var e=ei();return s(t=>{e(t)},[e])},eu=(e,t)=>{var a=S(),r=U();o(()=>{e&&r({event:"GTM_KPI_EXPERIMENT",data:{page:t}})},[t,r,e,a])},el=e=>{var t=S(),a=P(),n=U(),o=r.useRef(a);r.useEffect(()=>{e&&n({event:"PAGEVIEW",data:{liveRampEnvelope:W(),startDate:o.current.hotels?.checkInDate.toLocaleDateString("en-US"),endDate:o.current.hotels?.checkOutDate.toLocaleDateString("en-US"),numberGuests:(o.current.hotels?.adults??0)+(o.current.hotels?.children??0),numberRooms:o.current.hotels?.rooms,isDefaultDates:o.current.hotels?.defaultDates}})},[n,t,e])},eE={__key:74850207404379,id:"44136c06115b0e6638f1de27d15da1e5",loc:{},definitions:[]},e_=()=>{var e=R();return s((t,a,r)=>{var{event:n}=t,o=t.tagMetrics.map(e=>({id:e.id.toString(),name:e.name,status:e.status,executionTime:e.executionTime}));e.query(eE,{request:{page:a,event:n,pixelMetrics:o,consent:r}}).toPromise()},[e])},ed=["Hotel_Review","Hotels","SmartDeals","HotelHighlight","ShowUserReviews","HotelsNear","HotelsList","LastMinute","LocalMaps","HotelsFusion"],eS=e=>{var t=P(),a=S(),{page:n}=d(),o=U(),s=r.useRef(!0);r.useEffect(()=>{s.current=!0},[a]),r.useEffect(()=>{if(e&&ed.includes(n)){if(s.current){s.current=!1;return}j(o,t.hotels?.checkInDate,t.hotels?.checkOutDate,(t.hotels?.adults??0)+(t.hotels?.children??0),t.hotels?.rooms,t.hotels?.defaultDates)}},[o,e,t.hotels,n]),r.useEffect(()=>{if(e&&n.includes("VacationRental")){if(s.current){s.current=!1;return}j(o,t.vr.checkInDate||void 0,t.vr.checkOutDate||void 0,t.vr.adults+t.vr.children||void 0,void 0,void 0)}},[o,e,t.vr,n]),r.useEffect(()=>{if(e&&n.includes("Attraction")){if(s.current){s.current=!1;return}j(o,t.attractions.fromDate||void 0,t.attractions.toDate||void 0,(t.attractions.adults??0)+(t.attractions.children??0)||void 0,void 0,void 0)}},[o,e,t.attractions,n])},ev=()=>{var e=i(null),t=l(),r=ev.getGtmConfig(t),n=V(r,p()),{page:o}=d(),S=h(g.TARGETING),v=ev.useDeferGtm(o),m=c(()=>K(r,o),[r,o])&&v&&S&&!!n,T=e_(),C=s(e=>{r.monitoringEnabled&&T(e.data,o,S)},[T,o,r.monitoringEnabled,S]);eu(m,o);var D=et(m),I=s(()=>{e.current&&e.current.contentWindow&&D&&(D.port1.onmessage=C,e.current.contentWindow.postMessage("initGTMMessagePort",r.scriptSrcHostDomain,[D.port2]))},[r.scriptSrcHostDomain,C,D]);return b(m),G(m),c(()=>m?a(E,{component:_.gtm,children:a(u,{src:n,title:"gtm",ref:e,style:{display:"none"},onLoad:I})}):null,[m,n,I])},em=e=>{var t=U(),a=S(),n=r.useRef(null);r.useEffect(()=>{n.current===e||f(n.current,e)||(t(e),n.current=e)},[e,t,a])};return[()=>{M={...B,scriptSrcQueryParams:encodeURIComponent("&gtm_auth=bQdYCwDudXrwbnRzFG9SEg&gtm_preview=env-3&gtm_cookies_win=x")},A={...B},O=Q,N=J,L=X,H="undefined"!=typeof MessageChannel?new MessageChannel:null,p=ea,U=ec,b=el,G=eS,ev.useDeferGtm=L,ev.getGtmConfig=$,e({GoogleTagManager:ev,useGTMCallback:U,useGTMPageview:em})},[e=>a=e.jsx,e=>(r=e,n=e.useState,o=e.useEffect,s=e.useCallback,i=e.useRef,c=e.useMemo),e=>u=e.EmbeddedContent,e=>l=e.useDomainName,e=>(E=e.default,_=e.Component),e=>(d=e.useRoute,S=e.usePageviewUid),e=>v=e.default,e=>m=e.useViewportCategory,e=>(T=e.requestTTICallback,C=e.cancelTTICallback),e=>D=e.useLocale,e=>(g=e.CategoriesEnum,I=e.requestConsent,h=e.useConsent),e=>R=e.useClient,e=>P=e.useTravelInfo,e=>f=e.default]]},["121h32","1o4yt4","dyfdn5","qlcuu5","16nmgr","fgwvq1","19b9b1","1ys6v1","gbnboa","17thqz","1973cc","1mqwhq","1etaac","b5nukb"]]);
