(this.$WP=this.$WP||[]).push(["1abxv6",(e,t)=>{var a,r,s,n,i,l,o,c,d,p,u,h,g,m,D,v,k,f,C,_,I,S,N,b,P,T,y,O,E,w,R,A,M,G,x,L,V,z,B,W,F,$,j,U,Y,H,K,q,X,Z,J,Q,ee,et,ea,er,es,en,ei,el,eo,ec,ed,ep,eu,eh,eg,em,eD,ev,ek,ef,eC,e_,eI,eS=e=>{var{startDate:t,endDate:r}=e,{localize:s}=p(),i=o(),l="MOBILE"===i,[c,d]=_(t),[u,D]=_(r),v=!!t&&!!r,k=g(e=>a(n,{from:c,to:u,onClick:e.onClick,ref:e.ref,selected:e.isSelected,placeholder:s.string("vr_datepicker_enter_dates")}),[s,u,c]),f=g(e=>{var t=t=>{d(t),D(null),e.onStartDateSelected?.(t)},r=a=>{if(c&&b(a,c)>=0||a&&!c){t(a);return}D(a),e.onEndDateSelected?.(a)};return a(h,{month:c||S,disableBefore:S,fromMonth:S,monthRange:N,numberOfMonths:"TABLET"===i?1:2,endDate:u,layoutStyle:l?"infiniteVerticalScroll":"paginated",onDateReset:v?e.clearDate:void 0,startDate:c,onDateSelect:(e,a)=>{a||(c&&!u?r(e):t(e))},disabledDates:e.disabledDates,fullWidth:!0,resetText:s.string("vr_datepicker_clear_cta_text"),customModifiers:{"Gm Wa":t=>!!(c&&u&&t>c&&t<u&&e.disabledDates?.(t)),"aOPaY GA Wa _T":c&&e.disabledDates?.(c)?[c]:[],"DWaWJ GA Wa _T":u&&e.disabledDates?.(u)?[u]:[],"ZusxY Wa":e.disabledDatesStriked&&e.disabledDates?[e.disabledDates]:[]}})},[c,i,u,l,v,s,d,D]),C=g(()=>{d(t),D(r)},[r,D,d,t]);return m(()=>({name:"dateRangePicker",renderPickerInput:k,renderPicker:f,resetValues:C,selectedValue:{startDate:c,endDate:u}}),[k,f,C,u,c])},eN=e=>{var{label:t,value:r,minRange:s,maxRange:n,onStepChange:i}=e,[l,o]=D(r);v(()=>{o(r)},[r]);var c=g(()=>a(B,{label:t,currentStepValue:l??s,rangeMin:s,onStepChange:e=>{i?.(e),o(e)},minusLabel:"decrease",plusLabel:"increase",rangeMax:n}),[t,l,s,n,i]);return m(()=>({renderPicker:c,selectedValue:l,resetValue:()=>o(r)}),[r,c,l])},eb=e=>{var{localize:t}=p(),r=g(t=>a(i,{guests:e.guests,onClick:t.onClick,selected:t.isSelected,ref:t.ref}),[e.guests]),{renderPicker:s,selectedValue:n,resetValue:l}=eN({value:e.guests,label:t.string("plural_guests_da"),minRange:1,maxRange:100});return m(()=>({name:"guestPicker",renderGuestInput:r,renderGuestPicker:s,selectedGuests:n,resetGuests:l}),[r,s,l,n])},eP={calendarWrapper:"dQscM"},eT=e=>{var{isPickerOpen:t,isAutoOpen:a,open:r,setPickerOpenState:s,isOpen:n,close:i}=e;return v(()=>{null===t&&a&&r?.(),null===t&&n&&!1===a&&i?.()},[i,a,n,t,r,s]),e.dateInput},ey=e=>{var t={};return"PARTY_SIZE_INVALID"===e?t.guests=!0:"DATE_RANGE_UNAVAILABLE"===e||"MIN_STAY_VIOLATION"===e?(t.startDate=!0,t.endDate=!0):"TURNOVER_VIOLATION"===e?t.startDate=!0:"CHECKOUT_DAY_VIOLATION"===e?t.endDate=!0:"NO_DATES"===e?(t.startDate=!0,t.endDate=!0):"NO_SAME_DAY_CHECK_IN"===e&&(t.startDate=!0),t};function eO(e,t){var a=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate());return Math.floor((Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())-a)/864e5)}function eE(e,t){return 0===(e&&t?eO(new Date(e),new Date(t)):0)}var ew=(e,t,a=-1)=>{if(e.getTime()<eo.getTime())return!1;var r=eO(t.startDate?new Date(t.startDate):eo,e);return(r!==a||!a)&&t.bookedBits[r]},eR=(e,t)=>{if(e&&t?.startDate){var a=eO(new Date(t.startDate),e);return Number(Object.keys(t.bookedBits).sort((e,t)=>Number(e)-Number(t)).find(e=>a<Number(e))||-1)}return -1},eA=(e,t)=>new Date(e.getFullYear(),e.getMonth()+1+t,e.getDay()),eM=(e,t)=>eO(e,t)>0,eG=(e,t,a=ec)=>eM(a,e)||t&&eM(a,t),ex={guests:2,bathrooms:0,bedrooms:0},eL=e=>e<eo&&e>ec,eV=e=>{var t="MOBILE"===o(),n=k(null),[i,d]=D(null),[u,h]=D(!1),{renderPickerInput:v,renderPicker:f,selectedValue:{startDate:C,endDate:_},resetValues:I}=en({startDate:e.startDate,endDate:e.endDate}),{renderCalendarHeaderText:S,disabledDatesStriked:N}=e,b=m(()=>S?.({startDate:C,endDate:_,showAllSetText:u}),[S,_,C,u]),E=a=>{e.onEndDateSelect?.(),t?h(!0):e.onDateInputsChange?.({startDate:C,endDate:a})},w=(t,r,s,n)=>a(l,{children:a(eT,{dateInput:v({isSelected:i??e.isPickerAutoOpen,onClick:()=>{d(t=>(!e.isPickerAutoOpen||null!==t)&&!t),e.onDateInputOpen?.(),r?.()},ref:t}),isPickerOpen:i,isAutoOpen:e.isPickerAutoOpen,open:r,setPickerOpenState:d,close:s,isOpen:n})}),{localize:R}=p(),A=!!e.startDate&&!!e.endDate,M=g(()=>{e.onClearDates?.handleClearDateEvent(),d(!1)},[e.onClearDates]),G=t=>e.isDayBlocked?.({day:t,isEndDateSelected:!!(C&&!_)},C??null)??eL(t);return r(s,{children:[t?w():a("div",{ref:n,children:a(c,{position:"below",alignEdge:e.alignOverlayDirection??"left",contents:t=>r(s,{children:[r("div",{className:eP.calendarWrapper,children:[b,f({disabledDates:G,clearDate:()=>{M(),t?.(),d(!1)},onStartDateSelected:()=>{e.onStartDateSelect?.()},onEndDateSelected:e=>{E(e),t?.(),d(!1)},disabledDatesStriked:N})]}),t?r(s,{children:[a(P,{event:"click",callback:e=>{n?.current&&!n?.current.contains(e.target)&&(I(),t(),d(!1))}}),a(P,{event:"scroll",callback:()=>{t(),I(),d(!1)}})]}):null]}),children:w})}),i&&t?a(T,{onClose:()=>{i&&(d(!1),I(),h(!1))},variant:"fixed-height-sticky-footer",title:b,stickyHeader:!0,primaryButton:a(y,{variant:"primary",size:"small",onClick:()=>{e.onDateInputsChange?.({startDate:C,endDate:_}),h(!1),d(!1)},disabled:!(C&&_),children:R.string("airm_apply")}),secondaryButton:A?a(O,{onClick:A?M:void 0,children:R.string("vr_datepicker_clear_cta_text")}):void 0,buttonsAlignment:"space-between",children:a("div",{className:eP.calendarWrapper,children:f({clearDate:M,onStartDateSelected:()=>{e.onStartDateSelect?.(),h(!1)},onEndDateSelected:E,disabledDates:G,disabledDatesStriked:N})})}):null]})},ez={container:"f k u",control:"fBgDg S4",label:"S4 b Wg",stepper:"Jdnsj",disabledControl:"KDAeO"};function eB(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var eW=e=>null!=e?e:"",eF={guestPicker:"GgJNx",wrapper:"hvFuz f u k _S G5",tripSearchWrapper:"dxRhB f u",tripSearchInputFieldLabel:"SKdcK",tripSearchInputLabel:"oicFH b H4",numberPicker:"ehkxX"};function e$(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var ej=({adults:e,kids:t},a)=>{var r=[];return e&&r.push(a.string("common_n_adults_declension",{0:e})),t&&r.push(a.string("common_n_children_0_pl",{0:t})),r.join(", ")},eU=e=>{var{localize:t}=p();return r("div",{className:eF.tripSearchWrapper,children:[a("span",{className:"ui_icon users picker-icon"}),r("div",{children:[a("div",{className:eF.tripSearchInputFieldLabel,children:t("hac_guests_label_ffffdfce")}),a("div",{className:eF.tripSearchInputLabel,children:ej(e,t)})]})]})},eY=({numberOfGuests:e})=>{var{localize:t}=p();return r(s,{children:[r("div",{children:[a("span",{className:"ui_icon users picker-icon"})," ",t("common_n_guests_248_pl",{0:e})]}),a("span",{className:"ui_icon caret-down"})]})},eH=e=>{var{localize:t}=p();return a(et,{...e,localize:t})},eK=()=>{z({module:"VR",action:"VR_GuestsPickerUserInitiatedOpen_VRR"})},eq=()=>{z({module:"VR",action:"VR_GuestsPicker_Apply_VRR"})},eX=()=>{z({module:"VR",action:"VR_DatePickerUserInitiatedOpenCheckIn_VRR"})},eZ=()=>{z({module:"VR",action:"VR_DatePickerUserInitiatedOpen_VRR"})},eJ=()=>{z({module:"VR",action:"VR_DatePickerUserInitiatedOpenCheckOut_VRR"})},eQ=()=>{z({module:"VR",action:"VR_DatePickerCheckIn_VRR"})},e0=()=>{z({module:"VR",action:"VR_DatePickerCheckOut_VRR"})},e1=()=>{z({module:"VR_PDP",action:"VR_PDP_calendar_clear_dates"})};function e4(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var e2=(e,t)=>{var{cats:a,dogs:r}=e;if(!a&&!r)return t.string("ftl_no_pets");var s=[];return r&&s.push(t.string("vr_common_n_dogs_declension",{0:r})),a&&s.push(t.string("vr_common_cats_declension",{0:a})),s.join(", ")},e8=e=>{var{localize:t}=p();return r("div",{className:eF.tripSearchWrapper,children:[a("span",{className:"ui_icon pet-friendly picker-icon"}),r("div",{children:[a("div",{className:eF.tripSearchInputFieldLabel,children:t("vr_common_pets_label")}),a("div",{className:eF.tripSearchInputLabel,children:e2(e,t)})]})]})},e5=(e,t)=>{switch(e){case"cats":return t("vr_cats");case"dogs":return t("vr_dogs");case"cats_and_dogs":return"Both";default:return t("ftl_no_pets")}},e3=({petsEnum:e})=>{var{localize:t}=p();return r(s,{children:[r("div",{children:[a("span",{className:"ui_icon pet-friendly picker-icon"})," ",e5(e,t)]}),a("span",{className:"ui_icon caret-down"})]})},e6=e=>{var{localize:t}=p();return a(ea,{...e,localize:t})},e7={container:"rMxCD f K k",icon:"iQbAf",input:"GUHvK z G5 _S R2",largeInput:"NmktK G5 _S R2 o",guestPicker:"SrMXv z G5 _S R2",petInput:"RrcBT z G5 _S R2 z",largeInputWrapperStart:"ThSqU z f u",largeInputWrapperEnd:"pYUAZ z f u",largeInputFieldLabel:"fDIhO",largeInputLabel:"AncUY b H4",inputError:"jZlvr"},e9=(e,t)=>(v(()=>{e(t)},[e,t]),null),te=({onAutoOpenCalendar:e,onAutoCloseCalendar:t,withPersuasionMessage:a,isNonDated:r,autoOpen:s})=>{var[n,i]=D(!1);return e9(i,s),v(()=>{var s;return r&&a(!0),n&&(s=setTimeout(()=>{e(),setTimeout(()=>{t()},1e4)},500)),()=>{clearTimeout(s)}},[n,e,t,a,r]),null};function tt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var ta=0,tr=()=>ta+=1,ts=()=>{var e=tr().toString();return{startDateName:`vr-traveler-inputs-start-date-${e}`,endDateName:`vr-traveler-inputs-end-date-${e}`,guestInputName:`vr-traveler-inputs-guests-${e}`,petsInputName:`vr-traveler-inputs-pets-${e}`}},tn=({target:e,error:t,isCheckIn:s,date:n,onClick:i})=>{var{localize:l}=p(),o=u();return a("div",{ref:e,className:`${t?e7.inputError:""} ${e7.largeInput}`,onClick:i,children:r("div",{className:s?e7.largeInputWrapperStart:e7.largeInputWrapperEnd,children:[a("span",{className:`ui_icon calendar ${e7.icon}`}),r("div",{children:[a("div",{className:e7.largeInputFieldLabel,children:s?l.string("vr_checkin_ffffdd04"):l.string("vr_checkout_ffffdd04")}),a("div",{className:e7.largeInputLabel,children:n?o.formatDate("date_short_v2",n):"— / — / —"})]})]})})},ti=e=>{var{localize:t}=p(),r=u();return a(er,{...e,localize:t,globalize:r})};function tl(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var to={guestWrapper:"SlIXB",pickerContainer:"cXqKj f e",inputRowWrapper:"VNebh f u Wg",guestPickerFooterContainer:"wKzcV",buttonContainer:"dOobT f",pickerWrapper:"fbsir"},tc=e=>{var{adults:t}=e,n="MOBILE"===o(),i=k(null),{localize:d}=p(),[u,h]=D(!1),{renderGuestPicker:g,renderGuestInput:m,selectedGuests:v,resetGuests:f}=ei({guests:t}),C=()=>h(e=>!e),_=e=>a(y,{variant:"primary",size:"small",onClick:()=>{e?.(),I(),h(!1)},children:d.string("airm_apply")}),I=()=>{e.onGuestInputsChange?.({adults:v})},S=e=>r(s,{children:[r("div",{className:to.pickerContainer,ref:i,children:[a("div",{className:to.pickerWrapper,children:r("div",{className:`${to.inputRowWrapper} ${W({marginBottom:"spacing-05"})}`,children:[" ",g()]})}),!n&&a("div",{className:to.guestPickerFooterContainer,children:a("div",{className:to.buttonContainer,children:_(e)})})]}),e?r(s,{children:[a(P,{event:"scroll",callback:()=>{e(),f(),h(!1)}}),a(P,{event:"click",callback:t=>{i?.current&&!i?.current.contains(t.target)&&(f(),e(),h(!1))}})]}):null]});return r(s,{children:[n?a(l,{variant:"standard",children:m({isSelected:u,onClick:()=>{C(),e.onGuestInputOpen?.()}})}):a("div",{children:a(c,{position:"below",alignEdge:e.alignGuestOverlayDirection,contents:e=>a("div",{className:to.guestWrapper,"data-automation":"guestMix",children:S(e)}),children:(t,r)=>a(l,{variant:"standard",children:m({isSelected:u,onClick:()=>{r(),h(!0),e.onGuestInputOpen?.()},ref:t})})})}),u&&n&&a(T,{onClose:()=>{u&&(h(!1),f())},variant:"fixed-height-sticky-footer",stickyHeader:!0,primaryButton:_(),buttonsAlignment:"right","data-automation":"guestMix",children:u&&S()})]})},td={dateRangePicker:"dzSZx H",pdpTravelerInputsContainer:"f j Q2",headerText:"LfFom Pv f j c"},tp=e=>{var{vr:t,update:s}=F(),[n,i]=D(t.adults||ex.guests),[l,c]=D(t.checkInDate),[p,u]=D(t.checkOutDate),[h,m]=j(),f=I(m);v(()=>{i(t.adults)},[t.adults]),v(()=>{c(t.checkInDate)},[t.checkInDate]),v(()=>{u(t.checkOutDate)},[t.checkOutDate]);var C="MOBILE"===o(),_=k({}),S=g(e=>null===e&&!l&&!p&&!C,[p,C,l]),[N,b]=D(!1);v(()=>{S(x.get("triggeredAutoOpenCalendarOnPdp"))&&b(!0)},[S]),v(()=>{N&&(x.set("triggeredAutoOpenCalendarOnPdp",1),_.current=setTimeout(()=>{b(!1)},1e4))},[C,p,l,S,N]),v(()=>()=>{P()},[]);var P=()=>{"number"==typeof _.current&&clearTimeout(_.current)};return r("div",{className:td.pdpTravelerInputsContainer,id:"rapCheckin",children:[a("div",{className:td.dateRangePicker,onMouseOver:P,onFocus:P,"data-automation":"checkInCheckOutPicker",children:a(ed,{startDate:l,endDate:p,onDateInputsChange:t=>{(t.startDate||t.endDate)&&(s.vr.setStayDates(t.startDate||l,t.endDate||p),c(t.startDate||l),u(t.endDate||p),e.setRequiredFieldsMissing?.(!1))},onClearDates:{handleClearDateEvent:()=>{e1(),s.vr.setStayDates(null,null),e.clearDates?.()},addClearDate:!0},alignOverlayDirection:e.alignCalendarOverlayDirection,onDateInputOpen:e.withTracking?eZ:void 0,onStartDateSelect:e.withTracking?eQ:void 0,onEndDateSelect:e.withTracking?e0:void 0,renderCalendarHeaderText:l&&p?void 0:()=>a("div",{className:td.headerText,children:a($,{variant:C?"title-05":"title-03",children:a(d,{id:"vr_srp_persuasion_message_top"})})}),isPickerAutoOpen:N,isDayBlocked:(t,a)=>{var{isEndDateSelected:r,day:s}=t;if(e.calendarData){var n=ew(s,e.calendarData);if(r){var i=eR(a,e.calendarData);n=ew(s,e.calendarData,i)}return n&&f(),n}return!1},disabledDatesStriked:h})}),a("div",{"data-automation":"guestPickerField",children:a(tc,{adults:n,onGuestInputsChange:t=>{"number"==typeof t.adults&&(s.vr.setGuestInfo(t.adults,0),i(t.adults)),e.withTracking&&eq()},alignGuestOverlayDirection:e.alignGuestOverlayDirection,onGuestInputOpen:e.withTracking?eK:void 0})})]})},tu=({setSearchParams:e,searchParams:t,setTypeaheadResult:r,searchSessionId:s,location:n,redirectTo:i})=>{var{localize:l}=p();return a(ev,{locationTypes:["GEO"],label:l.string("mobile_discovery_where_to"),searchSessionId:s,onSelect:r(a=>{var r={...t,geoId:a};e(r),i(r)}),location:n})},th=(e="")=>e?`/VacationRentals-g${e}`:"/Rentals",tg=e=>{var t=th(e.geoId?.toString()||"");window.location.assign(t)},tm=e=>({geoId:e}),tD=({location:e,searchedGeoId:t})=>{var[r,s]=D(tm(t)),[n]=D(`facetedSearch-${U()}`);return a(ek,{setSearchParams:e=>{s(e)},searchParams:r,setTypeaheadResult:(e,t)=>a=>{if(e&&a&&null!=a.locationId&&(null!=a.url&&a.url.match(/g\d+-d\d+/)?window.location.href=a.url:e(a.locationId)),t&&a&&null!=a.url){var r=a.url.match(/q(.*)-/);t(r?.[1]||"")}},searchSessionId:n,location:e,redirectTo:tg})},tv=()=>"MOBILE"!==o(),tk=({children:e})=>a(s,{children:e(tv())}),tf={tabBar:"kPcYl _R l w M0 _h q Gi z",fixed:"Cjqgs",showing:"LBJiy",hidden:"jHGTb",fixedTabBar:"Pd PN Pp PA"},tC=({viewportCategory:e,children:t})=>{var[r,s,n]=J(-64,!1),i=()=>a("div",{id:"PERSISTENT_TRIP_SEARCH_BAR",className:G(tf.tabBar,s?tf.fixed:"",s?"fixed":"",{[tf.showing]:!n,[tf.hidden]:n}),ref:r,children:a("div",{className:G(s?tf.fixedTabBar:""),children:t})});return a(eC,{children:a=>"MOBILE"===e&&a?i():t})},t_={checkmarkIcon:"CPsex PV",mobileCalendarTextContainer:"Pv j f",desktopCalendarTextContainer:"Pv f",mobileCalenderText:"Pj"},tI=({selectedStartDate:e,selectedEndDate:t,showAllSet:s})=>{var{localize:n}=p(),i="MOBILE"===o(),l=i?"title-05":"title-03",c=m(()=>{var a;return e||(a=n.string("vr_datepicker_check_in_text")),e&&t&&(a=n.string("vr_datepicker_edit_date")),e&&!t&&(a=n.string("vr_datepicker_check_out_text")),i&&e&&t&&s&&(a=n.string("vr_datepicker_dates_selected_text")),a},[i,n,t,e,s]),d=m(()=>i&&e&&t&&s?a("span",{className:t_.checkmarkIcon,children:a(Q,{size:i?20:24})}):"",[i,t,e,s]);return c?r("div",{className:i?t_.mobileCalendarTextContainer:t_.desktopCalendarTextContainer,children:[d,a("div",{className:i?t_.mobileCalenderText:void 0,children:a($,{variant:l,children:c})})]}):null},tS=({withTracking:e=!1,adults:t=ex.guests,...s})=>{var{startDate:n,endDate:i}=s,l=o(),c=tv(),d=X(),p=e=>{e&&(t!==e.adults&&d({actionType:Z.CLICK,actionSubType:"filter_guests",customData:{value:e.adults}}),s.onGuestInputsChange?.(e))};return a(e_,{isDated:!!n&&!!i,viewportCategory:l,children:(()=>{var{setTarget:n,locationName:i,geoId:o}=s,u=!s.openedMap&&c;return r("div",{className:G("ryeme f",{aFRNs:c,uRGMe:s.openedMap}),ref:n,children:[u&&a(ef,{location:i,searchedGeoId:o}),a(ed,{startDate:s.startDate,endDate:s.endDate,onDateInputsChange:s.onDateInputsChange,onClearDates:s.clearDates,alignOverlayDirection:"TABLET"!==l||s.openedMap?"left":"right",onDateInputOpen:e?()=>d({actionType:Z.CLICK,actionSubType:"datepicker_open"}):void 0,onEndDateSelect:e?()=>d({actionType:Z.CLICK,actionSubType:"select_checkout_date"}):void 0,onStartDateSelect:e?()=>d({actionType:Z.CLICK,actionSubType:"select_checkin_date"}):void 0,renderCalendarHeaderText:e=>a(eI,{selectedStartDate:e?.startDate,selectedEndDate:e?.endDate,showAllSet:e?.showAllSetText})}),a(tc,{adults:t,onGuestInputsChange:p,alignGuestOverlayDirection:"TABLET"!==l||s.openedMap?"left":"right"})]})})()})};return e({dateDiffInDays:eO,isDateLess:eE}),[()=>{en=eS,ei=eb,el=new Date,ec=eA(eo=new Date(el.getFullYear(),el.getMonth(),el.getDate(),12),18),ed=eV,ee=class extends f{render(){var{label:e,min:t,value:s,containerClassName:n,renderInputValue:i}=this.props,l=!s||s<=t;return r("div",{className:`${ez.container} ${n}`,children:[a("div",{className:ez.label,children:e}),r("div",{className:ez.stepper,children:[a("span",{onClick:l?null:this.decrement,children:a(V,{name:"minus",className:`${ez.control} ${l?ez.disabledControl:""}`})}),a("input",{value:i?i():eW(s),onChange:i?void 0:this.handleInputChange,readOnly:!!i}),a("span",{onClick:this.increment,children:a(V,{name:"plus",className:ez.control})})]})]})}constructor(...e){super(...e),eB(this,"handleInputChange",e=>{var{value:t}=e.currentTarget,a=Number.parseInt(t,10);this.props.onChange(a||this.props.min)}),eB(this,"decrement",()=>{var{min:e,value:t,increment:a}=this.props,r=t?Math.max(t-a,e):e;this.props.onChange(r)}),eB(this,"increment",()=>{var{value:e,increment:t}=this.props,a=e?e+t:t;this.props.onChange(a)})}},eB(ee,"defaultProps",{min:0,containerClassName:"",increment:1}),ep=ee,et=class extends f{render(){return a(E,{position:"below",alignEdge:"left",name:this.props.name,contents:this.pickerContent,children:this.guestDisplayTrigger})}constructor(e){super(e),e$(this,"onAdultsChange",e=>{this.setState({adults:e})}),e$(this,"onChildrenChange",e=>{this.setState({kids:e})}),e$(this,"getNumberOfGuests",()=>{var e=0,{kids:t,adults:a}=this.props;return a&&(e+=a),t&&(e+=t),e}),e$(this,"changeGuests",()=>{var{kids:e,adults:t}=this.state;this.props.onGuestsChange({kids:e,adults:t})}),e$(this,"pickerContent",e=>r("div",{className:eF.guestPicker,children:[a(ep,{containerClassName:eF.numberPicker,label:this.props.localize.string("plural_guests_da").toLowerCase(),value:this.state.adults,min:1,onChange:this.onAdultsChange}),a(L,{type:"primary",size:"fullwidth",onClick:()=>{e(),this.changeGuests()},children:this.props.localize.string("airm_apply")})]})),e$(this,"guestDisplayTrigger",(e,t)=>{var r=this.getNumberOfGuests();return a("div",{className:`${eF.wrapper} ${this.props.className?this.props.className:""}`,ref:e,onClick:()=>{t(),this.props.onOpen&&this.props.onOpen()},children:this.props.tripSearch?a(eU,{adults:this.state.adults,kids:this.state.kids}):a(eY,{numberOfGuests:r})})});var{kids:t,adults:s}=e;this.state={adults:s,kids:t}}},e$(et,"defaultProps",{kids:0}),eu=eH,e8.defaultProps={cats:void 0,dogs:void 0},ea=class extends f{render(){return a(E,{position:"below",alignEdge:"left",name:this.props.name,contents:this.pickerContent,children:this.displayTrigger})}constructor(e){super(e),e4(this,"onCatChange",e=>{this.setState({cats:e})}),e4(this,"onDogChange",e=>{this.setState({dogs:e})}),e4(this,"getPetsEnum",()=>{var{cats:e,dogs:t}=this.state;return e&&t?"cats_and_dogs":e?"cats":t?"dogs":"none"}),e4(this,"getPetsCopy",()=>{var{petsEnum:e}=this.props;switch(e){case"cats":return this.props.localize.string("vr_cats");case"dogs":return this.props.localize.string("vr_dogs");case"cats_and_dogs":return"Both";default:return this.props.localize.string("ftl_no_pets")}}),e4(this,"changePets",()=>{this.props.onPetsChange(this.getPetsEnum())}),e4(this,"displayTrigger",(e,t)=>a("div",{className:`${eF.wrapper} ${this.props.className?this.props.className:""}`,ref:e,onClick:()=>{t(),this.props.onOpen&&this.props.onOpen()},children:this.props.tripSearch?a(e8,{dogs:this.state.dogs,cats:this.state.cats}):a(e3,{petsEnum:this.getPetsEnum()})})),e4(this,"pickerContent",e=>r("div",{className:eF.guestPicker,children:[a(ep,{containerClassName:eF.numberPicker,label:this.props.localize.string("vr_common_dogs_plural"),value:this.state.dogs,onChange:this.onDogChange}),a(ep,{containerClassName:eF.numberPicker,label:this.props.localize.string("vr_common_cats_plural"),value:this.state.cats,onChange:this.onCatChange}),a(L,{type:"primary",size:"fullwidth",onClick:()=>{e(),this.changePets()},children:this.props.localize.string("airm_apply")})]}));var{petsEnum:t}=e;switch(t){case"cats":this.state={cats:1};break;case"dogs":this.state={dogs:1};break;case"cats_and_dogs":this.state={cats:1,dogs:1};break;default:this.state={}}}},eh=e6,eg=te,tn.defaultProps={error:!1},er=class extends f{componentDidMount(){window.addEventListener("scroll",this.handleScroll)}componentWillUnmount(){window.removeEventListener("scroll",this.handleScroll)}renderStartDateInput(){var{startDateName:e,startDateOverlayAlignEdge:t}=this.props;return null!=e?a(E,{position:"below",alignEdge:t,name:e,contents:this.renderStartDayPicker,children:this.renderStartDateInputContents}):null}renderEndDateInput(){var{endDateName:e,endDateOverlayAlignEdge:t}=this.props;return a(E,{position:"below",alignEdge:t,name:e,contents:this.renderEndDayPicker,children:this.renderEndDateInputContents})}renderGuestsPicker(){var{guests:e}=this.getTravelerInputsError(),t=G(e7.guestPicker,e&&e7.inputError);return a(eu,{adults:this.props.adults,kids:this.props.kids,onGuestsChange:this.onGuestsChange,name:this.props.guestInputName,onOpen:this.onGuestInputOpen,className:t,tripSearch:this.props.tripSearch})}render(){var{autoOpen:e,startDate:t,endDate:n}=this.props;return r(s,{children:[a(eg,{onAutoOpenCalendar:this.onAutoOpenCalendar,onAutoCloseCalendar:this.onAutoCloseCalendar,withPersuasionMessage:this.showPersuasionMessage,isNonDated:!t||!n,autoOpen:e||!1}),this.renderTravellerInputsPicker()]})}constructor(){super(),tt(this,"onStartDayClick",e=>{if(!this.isDayBlocked(e)){var t=this.props.endDate;eG(e,t)||(t&&eO(t,e)>=0&&(t=null),this.props.onInputsChange({startDate:e,endDate:t}),this.props.withTracking&&eQ(),this.props.closeStart(),t?this.setState({withPersuasionMessage:!1}):setTimeout(()=>{this.props.openEnd()},300))}}),tt(this,"onEndDayClick",e=>{if(!this.isDayBlocked(e,"end")){var t=this.props.startDate;eG(e,t)||(t&&eO(e,t)>=0&&(t=null),this.props.onInputsChange({startDate:t,endDate:e}),this.props.withTracking&&e0(),this.props.closeEnd(),t?this.setState({withPersuasionMessage:!1}):setTimeout(()=>{this.props.openStart()},300))}}),tt(this,"onPetsChange",e=>{this.props.onInputsChange({pets:e})}),tt(this,"onGuestInputOpen",()=>{this.props.closeStart(),this.props.closeEnd(),this.props.withTracking&&eK(),this.props.closePets&&this.props.closePets()}),tt(this,"onPetInputOpen",()=>{this.props.closeStart(),this.props.closeEnd(),this.props.closeGuests()}),tt(this,"onStartDateInputOpen",()=>{this.props.openStart(),this.props.closeEnd(),this.props.closeGuests(),this.props.withTracking&&eX(),this.props.closePets&&this.props.closePets()}),tt(this,"onEndDateInputOpen",()=>{this.props.openEnd(),this.props.closeStart(),this.props.closeGuests(),this.props.withTracking&&eJ(),this.props.closePets&&this.props.closePets()}),tt(this,"onGuestsChange",e=>{this.props.withTracking&&eq(),this.props.onInputsChange(e)}),tt(this,"getTravelerInputsError",()=>{var{errorReason:e}=this.props;return e?ey(e):{}}),tt(this,"getCalendarDayModifiers",(e="start")=>{var t,{startDate:a,endDate:r}=this.props;return a&&r&&(t={from:a,to:r}),{start:a,end:r,selected:t,blocked:t=>this.isDayBlocked(t,e)}}),tt(this,"getDayPickerProps",(e=!0,t="start")=>{var{startDate:a,endDate:r,numberOfMonths:s}=this.props;return{numberOfMonths:s,disabledDays:{before:eo,after:ec},fromMonth:eo,modifiers:this.getCalendarDayModifiers(t),initialMonth:(e?a:r)||(e?r:a)||eo}}),tt(this,"handleScroll",()=>{this.props.closeStart(),this.props.closeEnd(),this.props.closeGuests(),this.props.closePets&&this.props.closePets()}),tt(this,"isDayBlocked",(e,t="start")=>{if(e.getTime()<eo.getTime())return!1;if(this.props.calendarData){var a=ew(e,this.props.calendarData);if("end"===t){var r=eR(this.props.startDate,this.props.calendarData);a=ew(e,this.props.calendarData,r)}return a}return!1}),tt(this,"renderStartDayPicker",()=>{var e={...this.getDayPickerProps(),onDayClick:this.onStartDayClick,withPersuasionMessage:this.state.withPersuasionMessage,clearDates:this.props.clearDates};return this.props.tripSearch?a(w,{...e}):a(R,{...e})}),tt(this,"renderEndDayPicker",()=>{var e={...this.getDayPickerProps(!1,"end"),onDayClick:this.onEndDayClick,withPersuasionMessage:this.state.withPersuasionMessage,clearDates:this.props.clearDates};return this.props.tripSearch?a(w,{...e,isCheckOut:!0}):a(R,{...e})}),tt(this,"renderStartDateInputContents",e=>{var{startDate:t,tripSearch:s}=this.props;if(s)return this.renderStartDateInputLargeContent(e);var{startDate:n}=this.getTravelerInputsError();return r("div",{id:"rapCheckin",ref:e,className:`${e7.input} ${n?e7.inputError:""}`,onClick:this.onStartDateInputOpen,children:[a("span",{className:`ui_icon calendar ${e7.icon}`})," ",t?this.props.globalize.formatDate("date_short_v2",t):this.props.localize.string("vr_checkin_ffffdd04")]})}),tt(this,"renderStartDateInputLargeContent",e=>{var{startDate:t}=this.props,{startDate:r}=this.getTravelerInputsError();return a(tn,{target:e,error:r,isCheckIn:!0,date:t,onClick:this.onStartDateInputOpen})}),tt(this,"renderEndDateInputContents",e=>{var{endDate:t,tripSearch:s}=this.props;if(s)return this.renderEndDateInputLargeContents(e);var{endDate:n}=this.getTravelerInputsError();return r("div",{ref:e,className:`${e7.input} ${n?e7.inputError:""}`,onClick:this.onEndDateInputOpen,children:[a("span",{className:`ui_icon calendar ${e7.icon}`})," ",t?this.props.globalize.formatDate("date_short_v2",t):this.props.localize.string("vr_checkout_ffffdd04")]})}),tt(this,"renderEndDateInputLargeContents",e=>{var{endDate:t}=this.props,{endDate:r}=this.getTravelerInputsError();return a(tn,{target:e,error:r,isCheckIn:!1,date:t,onClick:this.onEndDateInputOpen})}),tt(this,"onAutoOpenCalendar",()=>{this.props.openStart(),this.props.closeEnd(),this.props.closeGuests(),x.set("triggeredAutoOpenCalendarOnPdp",1)}),tt(this,"onAutoCloseCalendar",()=>{this.props.closeStart()}),tt(this,"showPersuasionMessage",e=>{this.setState({withPersuasionMessage:e})}),tt(this,"renderTravellerInputsPicker",()=>{var{includePetsFilter:e,petsInputName:t,setTarget:s}=this.props;return r("div",{className:e7.container,ref:s,children:[this.renderStartDateInput(),this.renderEndDateInput(),this.renderGuestsPicker(),e&&t?a(eh,{onPetsChange:this.onPetsChange,petsEnum:this.props.pets,name:t,className:e7.petInput,onOpen:this.onPetInputOpen,tripSearch:this.props.tripSearch}):null]})}),this.state={withPersuasionMessage:!1}}},tt(er,"defaultProps",{includePetsFilter:!1,numberOfMonths:2,withTracking:!1,startDateOverlayAlignEdge:"left",endDateOverlayAlignEdge:"right"}),em=class extends f{renderWithPetsFilter(){return a(A,{local:!0,name:this.petsInputName,children:e=>a(M,{local:!0,name:this.petsInputName,children:t=>a(A,{local:!0,name:this.guestInputName,children:r=>a(M,{local:!0,name:this.guestInputName,children:s=>a(A,{local:!0,name:this.startDateName,children:n=>a(A,{local:!0,name:this.endDateName,children:i=>a(M,{local:!0,name:this.startDateName,children:l=>a(M,{local:!0,name:this.endDateName,children:o=>a(ti,{...this.props,closeStart:l,closeEnd:o,openStart:n,openEnd:i,openGuests:r,closeGuests:s,openPets:e,closePets:t,startDateName:this.startDateName,endDateName:this.endDateName,guestInputName:this.guestInputName,petsInputName:this.petsInputName})})})})})})})})})}render(){return this.props.includePetsFilter?this.renderWithPetsFilter():a(A,{local:!0,name:this.guestInputName,children:e=>a(M,{local:!0,name:this.guestInputName,children:t=>a(A,{local:!0,name:this.startDateName,children:r=>a(A,{local:!0,name:this.endDateName,children:s=>a(M,{local:!0,name:this.startDateName,children:n=>a(M,{local:!0,name:this.endDateName,children:i=>a(ti,{...this.props,closeStart:n,closeEnd:i,openStart:r,openEnd:s,openGuests:e,closeGuests:t,startDateName:this.startDateName,endDateName:this.endDateName,guestInputName:this.guestInputName})})})})})})})}constructor(e){super(e),tt(this,"startDateName",void 0),tt(this,"endDateName",void 0),tt(this,"guestInputName",void 0),tt(this,"petsInputName",void 0);var{startDateName:t,endDateName:a,guestInputName:r,petsInputName:s}=ts();this.startDateName=t,this.endDateName=a,this.guestInputName=r,this.petsInputName=s}},e("Counter",es=class{constructor(){tl(this,"count",void 0),tl(this,"getCount",()=>(this.count+=1,this.count)),this.count=0}}),eD=tp,ev=C(function({locationTypes:e,onSelect:t,label:r,searchSessionId:s,location:n,...i},l){var[o,c]=D(n),[d,u]=D(!0),{localize:h}=p(),v=m(()=>({geoId:1}),[1]),k=X(),f=g(()=>k({actionType:Z.INTERACT,actionSubType:"focus_location_input"}),[k]),{results:{results:C},logTypeaheadOpened:_,logResultSelection:I}=Y(o,"FacetedSearch",v,"LocationTypeahead",8,e,s),S=g(()=>{_()},[_]),N=g(()=>{u(!1)},[u]);return a("div",{className:G("w",W(i)),children:a(H,{query:o,results:C.map(e=>({id:e.key,displayValue:e.searchText,props:{heading:e.title,subheading:e.subtitle,label:e.label,image:e.image}})),size:"small",onOpen:S,selectedResultDisplayValue:d?n:o,renderSelectorInput:({ref:e,value:t,onClick:r,onFocus:s,onChange:i,onClear:l})=>a(K,{Icon:q,onChange:e=>{i(e),N()},onClick:r,onFocus:e=>{s(e),f()},onClear:()=>{l?.(),N()},size:"medium",value:d?n:t,"aria-label":h.string("common_Search"),ref:e}),onQueryChanged:c,onSelect:(e,a,r)=>{var s=null!=a?C[a]:null;s&&r&&null!=a&&I(r,!1,{key:s.key,trackingPlaceType:s.trackingPlaceType,trackingType:s.trackingType,url:s.url,searchText:s.searchText},a,Date.now()),null!=t&&t(s)},ref:l})})}),ek=tu,ef=tD,eC=tk,e_=tC,eI=tI,e({Counter:es,DEFAULT_GUESTPICKER_DATA:ex,DateRangePicker:ed,FINAL_DAY:ec,MAX_MONTH_WINDOW:18,PdpTravelerInputs:eD,SRPTravelerInputsPicker:tS,TODAY:eo,TravelerInputsPicker:em,dateDiffInDays:eO,datesFallOutsideValidRange:eG,isDateLess:eE,isDayBlocked:ew})},[e=>(a=e.jsx,r=e.jsxs,s=e.Fragment),e=>(n=e.DateRangeInputFieldItem,i=e.GuestsInputFieldItem,l=e.InputField),e=>o=e.useViewportCategory,e=>c=e.default,e=>(d=e.default,p=e.useLocalize,u=e.useIntlFormatter),e=>h=e.default,e=>(g=e.useCallback,m=e.useMemo,D=e.useState,v=e.useEffect,k=e.useRef,f=e.Component,C=e.forwardRef),e=>(_=e.useDateWithSync,I=e.useCallbackOnlyOnce),e=>(S=e.TODAY,N=e.MAX_MONTH_WINDOW,b=e.dateDiffInDays),e=>P=e.default,e=>T=e.Modal,e=>(y=e.default,O=e.BorderlessButton),e=>(E=e.LocalArrowOverlayWithName,w=e.LargeDayPickerWrapper,R=e.DayPickerWrapper),e=>(A=e.Opener,M=e.Closer),e=>G=e.default,e=>x=e.default,e=>L=e.default,e=>V=e.Icon,e=>z=e.default,e=>B=e.default,e=>W=e.margin,e=>F=e.useTravelInfo,e=>$=e.default,e=>j=e.useStrikedUnavailableDatesPickerTest,e=>U=e.uuid,e=>Y=e.default,e=>H=e.default,e=>K=e.BaseSearchField,e=>q=e.default,e=>(X=e.useInteractionLogger,Z=e.INTERACTION_ACTION_TYPES),e=>J=e.default,e=>Q=e.default]]},["121h32","1gnzc4","1ys6v1","1mkn9k","17thqz","18ec5k","1o4yt4","t0pz11","123p81","ltllz9","1i3sz5","jppfwt","1hv36r","80hn7v","fkji80","tp1g68","4nzso8","1ybxsm","4axon3","1gmrl4","gw8uw6","1etaac","1essqv","1ipqm0","1eww82","7l5hpv","132kj4","gppdva","1bp96i","klbwtj","1pg8p6","1u16nt"]]);
