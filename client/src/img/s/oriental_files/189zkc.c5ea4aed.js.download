(this.$WP=this.$WP||[]).push(["189zkc",(e,a)=>{var r,t,i,n,o,l,s={__key:0xa17bd402b814,id:"a17bd402b8144a3572923383066084fc",loc:{},definitions:[]},u=[],d=e=>r(t,{query:s,variables:{id:e.rentalId},children:({error:a,data:r={},fetching:t})=>{var i;return t?e.children(!0,u):(a&&console.error("VR SRP PhotoDataProvider error",a,r),r&&r.rentalsPhotos&&(i=r.rentalsPhotos),e.children(t,i||u))}}),c={__key:63887012513255,id:"3a1adaafc5e788d82fb1505cee0f2f0c",loc:{},definitions:[]},h=({rentalId:e,currencyCode:a="USD"})=>{var r=i({query:c,variables:{rentalId:Number(e),currencyCode:a,requestSource:"PDP"},pause:!e});return r[0].error&&console.error("DetailRental fetch error",r[0].error),r},m=e=>{if(!e?.length)return null;var a={};return e.forEach(e=>{e&&(a[e.featureCode]={type:(e.featureType||"").toLowerCase(),quantity:e.count,localizedText:e.localizedDescription?.localizedString,hasFeature:!!e.hasFeature,value:e.value})}),a},p=e=>e?e.map(e=>{var{localizedString:a,keyValue:r}=e?.localizedDescription||{};return e&&a&&r?.key&&e.amenities?.length?{groupName:a,key:r?.key,amenities:e.amenities.map(e=>{var{localizedString:a,keyValue:r}=e?.localizedDescription||{};return a&&r?.key&&e?.hasFeature?{text:a,key:r.key,hasFeature:!!e.hasFeature}:null}).filter(Boolean)}:null}).filter(e=>e&&e.amenities.length).filter(Boolean):[],b=e=>{if(!e?.length)return{};var a={};return e.forEach(e=>{e?.key&&e?.status&&(a[e.key]={status:e.status,lang:e.lang||"",machineTranslated:!!e.machineTranslated,machineTranslatedSourceLang:e.machineTranslatedSourceLang||"",text:e.text||""})}),a},g=e=>e?{subscriptionType:e.subscriptionType,tipType:e.tipType,isFTL:e.isFreeToList,isSTL:e.isSubscribeToList,QandAListType:e.questionAndAnswerListType}:null,f=e=>{if(!e)return null;var a={id:e.id,isRbo:e.isRbo,managerType:e.managerType,typeValue:e.managerTypeValue,photoUrl:e.photoUrl,localizedLanguages:e.localizedLanguagesString,localizedResponseTimeString:e.localizedResponseTime?.localizedString,respondedPercentage:e.respondedPercentage,obfuscatedLanderUrl:e.obfuscatedLanderUrl,name:e.name,isBusiness:e?.isBusiness};return e.photoUrl&&(a.photoUrl=e.photoUrl),e.establishedDate&&(a.establishedDate=e.establishedDate),a},y=e=>e?.length?e.map(e=>({anchorText:e?.name,url:e?.url,localizedCount:e?.rentalCount})):null,v=(e,a,r)=>{if(!e)return null;var{detailFields:t,nearbyGeosInfo:i}=e,{supplierData:n,inquiryMetadata:o,legacyData:l,businessInfo:s}=t||{},{propertyManagerData:u}=n||{},d={id:e.id,titleInfo:e.titleInfo,recentViewCount:e.recentViewCount||null,propertyManager:f(u),businessInfo:g(s),cancellationPolicy:e.cancellationPolicy||"NONE",checkinTime:e.checkinTime,checkoutTime:e.checkoutTime,isInstantBook:e.isInstantBook||!1,rentalSource:{id:n?.vrSourceID},requiresPetInput:o?.requiresPetInput,showPhoneNumber:u?.shouldShowPhoneNumber,phoneNumber:u?.phoneNumber,rawPhoneNumber:u?.rawPhoneNumber,rateComment:o?.rateComment,baseDailyRate:l?.baseDailyRate?.amount,isAffiliate:e.isAffiliate,descriptions:b(t?.descriptions),features:m(t?.features),amenityGroups:p(t?.amenityGroups),rentalData:{carRequired:t?.carRequired},geoCoordinate:{lat:e.geoCoordinates?.lat,lon:e.geoCoordinates?.lng},parentGeo:r,photos:(e.photos||[]).filter(e=>!!e).map(e=>({...e,description:e.description??"",jumboUrl:e.jumboUrl??"",landscape:!!e.landscape,largeUrl:e.largeUrl??"",largestHeight:e.largestHeight??0,largestWidth:e.largestWidth??0,medUrl:e.medUrl??"",stdHeight:e.stdHeight??0,stdWidth:e.stdWidth??0,thumbHeight:e.thumbHeight??0,thumbWidth:e.thumbWidth??0,thumbnailUrl:e.thumbnailUrl??""})),nearbyGeos:y(i),managerPhotoUrl:u?.photoUrl,isExactMap:t?.mapData?.isExactMap,paymentStats:e.paymentStats,rentalType:l?.rentalSubtypeLocalized?.localizedString,bathCount:e.bathCount,sleepCount:e.sleepCount,minStay:e.minStay,roomCount:e.roomCount,name:e.name,bedroomInfo:l?.bedroomInfo,bathroomInfo:l?.bathroomInfo,externalId:n?.externalId,isPartnerSupplier:n?.isPartnerSupplier,numOfReviews:e.userReviewCount,averageRatingNumber:e.averageRatingNumber,detailPageUrl:e?.detailRoute?.url,listingLink:u?.listingLink,supplierLogoSource:n?.supplierLogoSourceURL,formattedSourceID:n?.formattedSourceID,isIndexable:e.isIndexable,canReceiveInquiries:o?.canReceiveInquiries,isOnlineBookable:e.isOnlineBookable,overidePartnerImageAltText:n?.shouldOverridePartnerImageAltText,travelersChoiceModel:{},isTravelersChoice:!1,hasCOE:a,vrSource:n?.vrAffiliateSourceID,dailyRate:-1,weeklyRate:-1,monthlyRate:-1,locationAlertMessage:e.detailFields?.locationAlert?.localizedMessage||void 0};return e.thumbnailUrl&&(d.thumbnailUrl=e.thumbnailUrl),n?.affiliateLogoUrl&&(d.affiliateLogoUrl=n?.affiliateLogoUrl),n?.providerOrdinal&&(d.providerOrdinal=n.providerOrdinal),u?.contactManagerUrl&&(d.contactManagerUrl=u?.contactManagerUrl),d},R=e=>{var[{data:a,fetching:r,error:t}]=l(e),[i]=a?.RentalInformation_getDetailRentals||[],[o]=a?.coeAward||[],s=o&&o.locations?.length,[u]=a?.locations||[],d=n(()=>v(i,s,u),[s,u,i]);return n(()=>[{rental:d,fetching:r,error:t}],[t,r,d])},U={__key:0xb86e33d7ae38,id:"b86e33d7ae383037dab7dcc67bdac8d9",loc:{},definitions:[]},T=()=>{var{page:e,path:a}=o(),[{data:r,fetching:t,error:l}]=i({query:U,variables:{url:a,pageName:e}}),s=n(()=>{var e=r?.Breadcrumbs_buildBreadcrumbs?.breadcrumbs;return e?e.filter(e=>!!(e&&e.url&&e.text)).map(e=>({href:e.url,name:e.text,obfuscated:!!e.obfuscated})):null},[r]);return l&&console.error("RentalsHeaderBreadcrumbs fetch error",l),[{breadcrumbsParams:s,fetching:t,error:l}]},P={__key:32384056043469,id:"1d74002827cd335a3b19f1a8696ddfea",loc:{},definitions:[]},S=({detailId:e,geoId:a=0,page:r="VacationRentalReview"})=>{var[{data:t,fetching:o,error:l}]=i({query:P,variables:{page:r,geoId:a,detailId:e}}),s=n(()=>{var e=t?.Routing_canonicalize;return e&&e[0]?.url||null},[t]);return l&&console.error("PdpCanonicalUrl fetch error",l),[{pdpCanonicalUrl:s,fetching:o,error:l}]},I={__key:99992102480931,id:"5af139bfac236f72a44f6c3a48723348",loc:{},definitions:[]};return[()=>{e({LocationInfoQuery:I,PhotoDataProvider:d,useDetailRentalData:l=h,useJerseyDetailRentalData:R,usePdpCanonicalUrl:S,useRentalBreadcrumbData:T})},[e=>r=e.jsx,e=>(t=e.Query,i=e.useQuery),e=>n=e.useMemo,e=>o=e.useRoute]]},["121h32","1mqwhq","1o4yt4","fgwvq1"]]);
