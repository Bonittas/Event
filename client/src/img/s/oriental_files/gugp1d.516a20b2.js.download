(this.$WP=this.$WP||[]).push(["gugp1d",(e,r)=>{var a,t,u,l,n,s,i,v,o,b,p,m={__key:0xcbaf2ab926a0,id:"cbaf2ab926a0cb4b47012023d0db2bac",loc:{},definitions:[]},V=(e,r)=>{var[{data:t,fetching:u,error:l}]=a({query:m,variables:e,pause:0===e.experimentKeys.length||r});return{experimentBuckets:u?null:Object.fromEntries((t?.AbTesting_evaluateTests?.[0]?.testResults??[]).filter(e=>null!==e&&null!==e.experimentKey&&null!==e.bucket).map(({experimentKey:e,bucket:r})=>[e,r])),fetching:u,error:null!=l}},c=(e,r)=>V(e,r).experimentBuckets,d=e=>u.memo(r=>{var a=s(e),l=u.useContext(i),n=u.useMemo(()=>null!==a?{...l,...a}:l,[a,l]);return t(i.Provider,{value:n,children:r.children})}),y=({userId:e,experimentKeys:r,children:a})=>{var l=s({experimentKeys:r,userId:e}),n=u.useContext(i),v=u.useMemo(()=>null!==l?{...n,...l}:n,[l,n]);return t(i.Provider,{value:v,children:a})},g=e=>{var r=u.useContext(i);return u.useMemo(()=>e.reduce((e,a)=>({...e,[a]:r[a]}),{}),[e,r])},x=e=>{var{page:r}=n();return l(()=>Object.keys(e).map(e=>e).filter(a=>{var{routes:t}=e[a];return"object"==typeof t?t.some(e=>e.page===r):"*"===t}),[r,e])},h=e=>{var[r,a]=u.useState(!0),t=u.useContext(o);s({experimentKeys:[e]},r);var l=t[e],n=u.useCallback(()=>{null!=l&&a(!1)},[a,l]);return u.useMemo(()=>[l||null,n],[l,n])},_=({children:e,deferredImpressionExperiments:r})=>{var a=s({experimentKeys:v(r),skipImpression:!0}),l=u.useMemo(()=>null!=a?a:{},[a]);return t(o.Provider,{value:l,children:e})},f=({children:e,experiments:r,deferredImpressionExperiments:a})=>t(y,{experimentKeys:v(r),children:t(b,{deferredImpressionExperiments:a,children:e})}),T={__key:80079938137729,id:"48d510442e81516b543a39a73faa90c2",loc:{},definitions:[]},A=(e,r)=>{var[{data:t,fetching:u}]=a({query:T,variables:e,pause:0===e.experimentKeys.length||r});return u?null:t?.AbTesting_evaluateTests?.[0]?.testResults?.reduce((e,r)=>r&&r.experimentKey&&r.bucket?{...e,[r.experimentKey]:r.bucket}:e,{})||{}},k=(e,r)=>{var[{data:t,fetching:u}]=a({query:m,variables:{...e,fetchVariables:!0},pause:0===e.experimentKeys.length||r});return u?null:t?.AbTesting_evaluateTests?.[0]?.testResults?.reduce((e,r)=>r&&r.experimentKey&&r.bucket?{...e,[r.experimentKey]:{bucket:r.bucket,variables:void 0!==r.variables?K(r.variables):{}}}:e,{})||{}},K=e=>e?.reduce((e,r)=>r?.varValue?.__typename&&r?.varName?{...e,[r.varName]:C(r)}:e,{})||{},C=e=>{var r={type:"null",value:null};if(e?.varValue?.__typename==="AbTesting_BooleanVarValue")return null!==e.varValue.varValueBool?{type:"boolean",value:e.varValue.varValueBool}:r;if(e?.varValue?.__typename==="AbTesting_DoubleVarValue")return null!==e.varValue.varValueDouble?{type:"double",value:e.varValue.varValueDouble}:r;if(e?.varValue?.__typename==="AbTesting_IntegerVarValue")return null!==e.varValue.varValueInteger?{type:"integer",value:e.varValue.varValueInteger}:r;if(e?.varValue?.__typename==="AbTesting_JsonVarValue"){if(null===e.varValue.varValueJson)return r;try{return{type:"json",value:JSON.parse(e.varValue.varValueJson)}}catch(a){return console.error(`useAbTestWithVariables received variable ${e.varName} with invalid JSON string: ${e.varValue.varValueJson}`),r}}else if(e?.varValue?.__typename==="AbTesting_StringVarValue")return null!==e.varValue.varValueStr?{type:"string",value:e.varValue.varValueStr}:r;else return console.error(`useAbTestWithVariables hook got an unsupported variable type for variable ${e.varName}. \
Please update ab-testing version in services.js and add support for new types`),{type:"unsupported"}};return[()=>{s=c,i=u.createContext({}),v=x,o=u.createContext({}),b=u.memo(_),p=u.memo(f),e({AbTestContext:i,AbTestProvider:y,AbTestingWithDeferredImpressionsProvider:p,createAbTestContext:d,default:s,useAbTestContext:g,useAbTestWithQueryStatus:V,useAbTestWithSegments:A,useAbTestWithVariables:k,useExperimentWithDeferredImpression:h})},[e=>a=e.useQuery,e=>t=e.jsx,e=>(u=e,l=e.useMemo),e=>n=e.useRoute]]},["1mqwhq","121h32","1o4yt4","fgwvq1"]]);
