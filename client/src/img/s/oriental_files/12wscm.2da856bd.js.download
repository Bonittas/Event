(this.$WP=this.$WP||[]).push(["12wscm",(e,a)=>{var r,t,i,d,n,s,l,o,c,u,p,_,m,T,h,v,C,b,k={nodeContainer:"_c",underline:"TuRMH"},w=({trip:e,messageType:a,openTripInNewTab:s=!1,onCtaClick:l,onVisible:o})=>{var c,u=T(o),h=t.useCallback(()=>{l?.();var a=e.route?.url;a&&(s?window.open(a):window.location.href=a)},[l,e,s]),v=r(m,{className:k.underline,onClick:h,"data-automation":"ViewTripToast.viewTrip",children:r(i,{id:"stat_modal_view_trip_v2"})});switch(a){case"CREATED":c=r(d,{id:"create_trip_success_toast_with_bold",args:{TripName:p(e?.title||"")}});break;case"SAVED":c=r(d,{id:"stat_modal_saved_to_tripname_with_bold",args:{TripName:p(e?.title||"")}});break;default:c=null}return r("div",{ref:u,children:r(n,{cta:v,children:r(_,{element:"savedToast",trip:e,children:r("span",{className:k.nodeContainer,children:c})})})})},f={tripNameLink:"bCZgg"},y=({trip:e,onUndo:a})=>{var t=r(m,{onClick:a,children:r(i,{id:"stat_modal_undo"})});return r(n,{cta:t,children:r(_,{element:"unsaveToast",trip:e,children:r("span",{className:k.nodeContainer,children:r(d,{id:"stat_modal_removed_from_tripname_with_bold_v3",args:{TripName:p(e?.title),TripLink:e.route?.url||"",TripClass:f.tripNameLink}})})})})},g=({trip:e,hideCta:a,onVisible:s,onCtaClick:l})=>{var o=T(s),c=r(m,{"data-automation":"AutosavedToTripToast.change",onClick:t.useCallback(()=>{l()},[l]),children:r(i,{id:"stat_modal_change"})});return r("div",{ref:o,children:r(n,{cta:a?null:c,children:r(_,{element:"savedToast",trip:e,children:r("span",{"data-automation":"AutosavedToTripToast.savedTo",className:k.nodeContainer,children:r(d,{id:"stat_modal_saved_to_tripname_with_bold_new_tab",args:{TripName:p(e?.title),TripLink:e.route?.url||"",TripClass:f.tripNameLink}})})})})})},I=({onUndo:e})=>{var a=r(m,{onClick:e,children:r(i,{id:"stat_modal_undo"})});return r(n,{cta:a,children:r(i,{id:"stat_modal_removed_from_tripname",args:{sTripName:r(i,{id:"m1_trips_my_saves_header"})}})})},N=8e3,A=()=>{var[e,a]=t.useContext(s),[,d]=l(o),p=t.useCallback((e,a)=>d({tripId:e,referenceId:`${a.id}`,referenceType:a.type,allowDuplicates:!1}).then(e=>{var a=e?.data?.addItemToTrip,r=e?.data?.addItemToTrip?.trip,t=e?.data?.addItemToTrip?.errors?.[0]?.error;return{trip:r,error:a?null:{query:"ADD_ITEM_TO_TRIP",tripsError:t||void 0}}}).catch(()=>({trip:null,error:{query:"ADD_ITEM_TO_TRIP"}})),[d]),_=t.useCallback(({trip:a,messageType:t,onCtaClick:i,onVisible:d,openTripInNewTab:n})=>{e({node:r(h,{openTripInNewTab:n??!1,trip:a,messageType:t,onCtaClick:i,onVisible:d})})},[e]),m=t.useCallback((a,t,i)=>{e({node:r(v,{trip:a,onUndo:()=>{p(a.id,t).then(e=>{i&&i(e.trip,e.error)})}})})},[p,e]),T=t.useCallback((t,i,d,n,s=N)=>{e({node:r(C,{trip:t,onCtaClick:()=>{i&&i(),a()},onVisible:d,hideCta:n}),timeout:s})},[e,a]),k=t.useCallback(()=>{e({node:r(n,{children:r(i,{id:"m1_trips_save_success_stat_d2"})})})},[e]),[,w]=l(c),f=t.useCallback(e=>w({id:`${e.id}`,type:e.type}).then(e=>({isAdded:!!e?.data?.MySaves_addToMySavesSingle})).catch(()=>({isAdded:!1})),[w]),y=t.useCallback((a,t)=>{e({node:r(b,{onUndo:()=>{f(a).then(e=>{t(e.isAdded)})}})})},[e,f]),g=t.useCallback(a=>e({node:r(n,{children:a})}),[e]);return{launchViewTripToast:_,launchRemoveFromTripToast:m,launchAutoSavedToTripToast:T,launchAddItemToMySavesToast:k,launchRemoveItemFromMySavesToast:y,launchErrorTripToast:t.useCallback(a=>{e({node:r(n,{children:r(u,{query:a.query,error:a.tripsError})})})},[e]),launchToastMessage:g}};return[()=>{h=w,v=y,C=g,b=I,e("default",A)},[e=>r=e.jsx,e=>t=e,e=>(i=e.default,d=e.UnsafeLocalize),e=>(n=e.ToastItem,s=e.Toast),e=>l=e.useMutation,e=>(o=e.AddItemToTrip,c=e.AddItemToMySaves),e=>u=e.default,e=>p=e.escapeHtml,e=>_=e.TripsImpression,e=>m=e.default,e=>T=e.useOnVisible]]},["121h32","1o4yt4","17thqz","tr3542","1mqwhq","ag9b0s","mc5s4b","irfizf","665v5s","6g4avl","13btuy"]]);
