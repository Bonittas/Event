(this.$WP=this.$WP||[]).push(["19l9n4",(e,a)=>{var n,o,t,i,s,r,l,c,u,d,g,b,v={__key:0x6137c0beb52c,id:"6137c0beb52cfa99e57aae408e2d4ff1",loc:{},definitions:[]},L=e=>{var[{data:a,fetching:n}]=s({query:v,variables:{locationId:e||0},pause:!e||e<=0});if(n)return{fetching:!0,sojernLocationId:null,sojernLocationName:null};var o=!!e&&!!a?.BaAggregation_getEligibleSojernLocation?.[0]?.sojernLocationId&&!!a?.BaAggregation_getEligibleSojernLocation?.[0]?.sojernLocationName&&!!a?.locations?.[0]?.businessAdvantageSubscriptions&&!!a?.locations?.[0]?.businessAdvantageSubscriptions?.length;return{fetching:n,sojernLocationId:o?a?.BaAggregation_getEligibleSojernLocation?.[0]?.sojernLocationId:null,sojernLocationName:o?a?.BaAggregation_getEligibleSojernLocation?.[0]?.sojernLocationName:null}},j=e=>{var a=n(),{page:s}=o(),r=t(),{fetching:c,sojernLocationId:u,sojernLocationName:d}=g(e),b=i();return{sojernGTMCallback:l(n=>{!c&&u&&d&&b({event:"BA_SOJERN_BL_CLICK",data:{sojernLocationId:u,sojernLocationName:d,tripLocationId:e,sessionId:r,clickType:n,page:s,pageUid:a,eventTime:new Date().getTime()}})},[c,u,d,b,e,r,s,a])}},I=e=>{var{fetching:a,sojernLocationId:s,sojernLocationName:l}=g(e),u=n(),{page:d}=o(),b=t(),v=i(),L=r.useRef(null);return{fetching:a,sojernLocationId:s,onVisibleCallback:r.useCallback(()=>{if(!a&&s&&l&&e){var n={event:"BA_SOJERN_BL_IMPRESSION",data:{page:d,pageUid:u,sessionId:b,sojernLocationId:s,sojernLocationName:l,tripLocationId:e,eventTime:void 0}};L.current===n||c(L.current,n)||(v({event:n.event,data:{page:n.data.page,pageUid:n.data.pageUid,sessionId:n.data.sessionId,sojernLocationId:n.data.sojernLocationId,sojernLocationName:n.data.sojernLocationName,tripLocationId:n.data.tripLocationId,eventTime:new Date().getTime()}}),L.current=n)}},[s,l,a,b,d,u,v,e])}},S=({locationId:e})=>{var{onVisibleCallback:a,sojernLocationId:n}=b(e),o=d(a);return n?u("span",{style:{visibility:"hidden"},ref:o}):null};return[()=>{g=L,e({BaSojernLocationIdAndBaStatus:v,SojernImpression:S,useSojernTestClickEventGTMCallback:j,useSojernTestImpressionEventGTMCallback:b=I})},[e=>(n=e.usePageviewUid,o=e.useRoute),e=>t=e.useSessionId,e=>i=e.useGTMCallback,e=>s=e.useQuery,e=>(r=e,l=e.useCallback),e=>c=e.default,e=>u=e.jsx,e=>d=e.useOnVisible]]},["fgwvq1","1al4vi","1904jn","1mqwhq","1o4yt4","b5nukb","121h32","13btuy"]]);
