(this.$WP=this.$WP||[]).push(["2j5if1",(e,t)=>{var i,a,n,r,o,l,s,d,c,u,m,h,p,g,_,f,I,T,v,y,N,A,D,R,S,w,O,b,E,C=e=>{var{description:t,photo:a,route:c,sponsorName:u,title:m,articleId:h,authors:p,locationType:g,sponsorshipContentType:D}=e.article,R=N(),S=y(),w=n(),{localize:O}=T(),{page:b}=r(),E=b===s||b===d,C=O.string("ad_related_stories_feature_in_content_widget"),W="BRANDED"===D?O.string("branded_call_out_in_partnership_with",{sponsorName:u}):O.string("sponsored_story_content_widget"),q=O.string("as_feature_in_content_widget"),x=p?.[0]?.author?.name?p?.[0]?.author?.name:void 0,z=u?"from":"by",U=u||void 0,L=v(()=>{S({itemType:o,itemGroup:"SingleArticle",itemName:u,itemId:`${h}`,customData:JSON.stringify({locationType:g,route:c}),team:"TAPS",page:b,pageUid:w})}),j=f(()=>{R({itemType:o,itemGroup:"SingleArticle",itemId:`${h}`,itemName:u,customData:JSON.stringify({locationType:g,route:c}),page:b,team:"TAPS",actionType:"click",pageUid:w})},[h,R,g,b,w,c,u]);if(null===a)return null;var k=i("div",{className:_({"zeMXO o":E}),children:t});return i("section",{ref:L,className:_("fyOpZ",{XIzLn:E}),children:i(I,{href:c,display:"block",theme:"none",target:l,onClick:()=>j(),children:i(A,{headerTitle:e.article.sponsorName?W:"as-featured-in"===e.titleOption?q:C,headerUrl:c,image:a,href:c,target:l,authorTarget:l,authorVariant:z,authorName:E?void 0:U||x,title:m,snippet:k})})})},W=e=>{var{articles:t}=e,{localize:l}=T(),{page:p}=r(),g=n(),f=y(),I=R(),N=p===d||p===s,A=p===u,S=p===m||p===h||N,w=p===h||N,O=p===u,b=t.map(e=>e.articleId);return a("section",{ref:v(()=>{f({itemType:o,itemGroup:"MultipleArticles",itemId:`${e.locationId}`,customData:JSON.stringify({articleCardIds:b}),page:p,team:"TAPS",pageUid:g})}),className:_("MIrqC Gi",{Emfdu:A,NxaVD:S,WlGzA:w,HFNjH:N}),children:[i("div",{className:_("eaQSM E",{KEiyD:w}),children:i(D,{variant:"title-02",color:"primaryText",elementType:I?"h2":void 0,children:l.string("ad_related_stories_feature_in_content_widget")})}),i("div",{className:_("NeZCO _h A",{vimTh:w,rMelW:O,qqaht:N}),children:t.map((e,t)=>i("div",{className:_("yVyfR",{YvpmX:0===t,lYDNx:1===t,ggzcD:2===t}),children:i(c,{article:e,widgetType:"as-featured-in"})},e.articleId))})]})},q={__key:0xa6a2e92f4bb7,id:"a6a2e92f4bb7cb0d145ca3fae0e528a3",loc:{},definitions:[]},x=e=>{var t=[],i=e.filter(e=>e.sponsorName);return i.length>=3&&(t=i),i.length<3&&(t=[...i,...e.filter(e=>!e.sponsorName)]),t.length>3?t.slice(0,3):t},z=e=>{var t=[],i=(e,i)=>{e.forEach(e=>{if(e?.document&&e?.document?.content!=null){var{content:a,route:n,title:r,estimatedReadTime:o,lastUpdatedAt:l,space:s}=e.document,d={title:r,locationType:i,route:n?.url||"",readTime:o?`${o}`:null,lastUpdatedAt:l||null,sponsorshipContentType:e?.sponsoredArticle?.contentType,sponsorName:e?.sponsoredArticle?.sponsorName||"",authors:"authors"in a&&a?.authors||null,description:"seoInfo"in a&&a?.seoInfo?.metaDescription||"",photo:"thumbnail"in a&&a?.thumbnail?.photo?.photoSizeDynamic||null,articleId:s||"1"};d.photo&&t.push(d)}})};return e?.RichContent_getDocumentsByLocationId?.[0]?.documents&&i(e.RichContent_getDocumentsByLocationId[0].documents,p),e?.RichContent_getDocumentsByLocationId?.[1]?.documents&&i(e.RichContent_getDocumentsByLocationId[1].documents,g),t},U=(e,t,i)=>{var[{data:a,fetching:n}]=S({query:q,variables:{detailId:e,geoId:t},pause:!e&&!t||!i});return{fetching:n,articles:x(z(a))}},L=["Attraction_Review","Restaurant_Review","Tourism","ShowTopic","ShowForum"],j=[255060,189970,659488,298184,143028,147404],k=()=>{var{page:e,params:t}=r(),i="geoId"in t?t.geoId:null;return!("Tourism"===e&&i&&j.includes(i))&&L.includes(e)},G=()=>{var{params:e}=r(),t=E(),a=p in e&&e.detailId?e.detailId:0,n=g in e&&e.geoId?e.geoId:0,{fetching:o,articles:l}=b(a,n,t);return t&&!o&&l&&0!==l.length?l.length<=2?i(w,{titleOption:a?"as-featured-in":"related-stories",article:l[0]}):3===l.length?i(O,{articles:l,locationId:a||n}):null:null};return[()=>{w=C,O=W,b=U,E=k,e({AsFeaturedInWidget:G,default:G})},[e=>(i=e.jsx,a=e.jsxs),e=>(n=e.usePageviewUid,r=e.useRoute),e=>(o=e.AFI_WIDGET,l=e.BLANK,s=e.SHOW_TOPIC,d=e.SHOW_FORUM,c=e.ArticleCard,u=e.RESTAURANT_REVIEW,m=e.TOURISM,h=e.ATTRACTION_REVIEW,p=e.DETAIL_ID,g=e.GEO_ID),e=>_=e.default,e=>f=e.useCallback,e=>I=e.default,e=>T=e.useLocalize,e=>v=e.useOnVisible,e=>y=e.default,e=>N=e.default,e=>A=e.EditorialFeatureArticleShelf,e=>D=e.default,e=>R=e.useAttractionReviewTitleDivToH2,e=>S=e.useQuery]]},["121h32","fgwvq1","eozxiw","fkji80","1o4yt4","lr6tb6","17thqz","13btuy","xg719z","1r73jw","1asj0s","1essqv","1xk435","1mqwhq"]]);
