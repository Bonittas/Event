(this.$WP=this.$WP||[]).push(["1af5eu",(e,i)=>{var a,n,r,t,l,o,s,c,u,d,m,h,v,p,b,g,f,k,w,T,C,y,P,S,N,I,x,M,B,D,z,O=({variant:e="ThumbsUp",tripId:i})=>{var n=d();return a("div",{ref:u(t(()=>{n("TripDetailsFeedbackSucessfulSubmit",{tripId:i.toString()})},[n,i])),children:a(b,{icon:"ThumbsUp"===e?v:p,children:a(h,{variant:"body-01",color:"onDarkText",children:"ThumbsUp"===e?"Thanks for your feedback!":"Thanks. Your feedback is valuable as we continue to enhance our recommendations."})})})},j=[{value:"dislike_recommendation",label:"The recommendation was not right for me."},{value:"wrong_description",label:"The description was wrong or missing"},{value:"unrelated_link",label:"Clicking on the recommendation sent me to an unrelated page."}],F=({onSubmit:e})=>{var i="MOBILE"===P(),[o,s]=l(""),[c,u]=l(j),[d,m]=l(!1),[v,p]=l(""),b=t((e,i)=>{m(i)},[]),g=t((e,i)=>{u(a=>a.map(a=>a.value===e?{...a,isChecked:i}:a))},[]),f=t(e=>{s(e.target.value)},[]),C=()=>{var i=o.trim();d&&!i?p("Please specify the issue you experienced"):(p(""),e([...c,{value:i,label:"Other",isChecked:!!i}]))};return n(r,{children:[n("section",{className:"Ma Nn MJ NP",children:[a(h,{variant:"body-01",children:"Sorry to hear that."}),a(h,{variant:"title-03",marginTop:"spacing-02",children:"What was wrong with this recommendation?"}),c.map(e=>a(y,{checked:!!e.isChecked,value:e.value,label:e.label,onToggle:g},e.value)),a(y,{checked:d,value:"4",label:"Other (please specify below)",onToggle:b}),a(k,{maxLength:160,errorText:v,value:o,marginTop:"spacing-03",placeholder:"Add your comments",onChange:f})]}),n("section",{className:"VMdEM f k Pk P- Px PM _Q s w z Gi",children:[a(T,{onClick:C,children:"Skip"}),a(w,{variant:"primary",size:"medium",onClick:C,fullWidth:i,marginBottom:i?"spacing-03":void 0,children:"Submit"})]})]})},L={headerContainer:"YhlKk f Pj PX Pw PJ B1 Z BB",imageContainer:"Xxueo o",descriptionContainer:"f e k Mi Nb MH NM"},U=({item:e})=>n("div",{className:L.headerContainer,children:[e.thumbnail?.photoSizes&&a("div",{className:L.imageContainer,children:a(S,{source:e.thumbnail?.photoSizes,aspectRatio:"1:1"})}),n("div",{className:L.descriptionContainer,children:[n("div",{children:[e.name&&a(h,{lineClamp:2,variant:"supporting-03",marginBottom:"spacing-02",children:e.name}),e.reviewSummary?.rating&&e.reviewSummary?.count&&a(N,{size:"small",rating:e.reviewSummary?.rating,numReviews:e.reviewSummary?.count})]}),e?.placeType&&a(I,{item:e,variant:"minimal"})]})]}),W=({item:e,isOpen:i,onSubmit:r})=>{var{open:t,close:l}=g(()=>a(f,{hideCloseButton:!0,overrideContentStyling:!0,children:a("div",{className:"JUjxe f e",children:n("div",{className:"yLpyj",children:[a("section",{className:"Ma Nn MK NP",children:a(U,{item:e})}),a(F,{onSubmit:r})]})})}));return o(()=>{i?t():l()},[i,t,l]),null},E=({isThumbsUp:e,isThumbsDown:i,onThumbsUp:r,onThumbsDown:t,feedbackSent:l,...o})=>n("div",{className:B("w f k v u Pi PN Pv PA",D(o)),children:[a(h,{variant:"supporting-01",children:"Was this recommendation useful?"}),n("section",{className:"f v u",children:[a(C,{variant:"clear","aria-label":"Thumbs Up",onClick:r,icon:e?v:x,disabled:l&&!e}),a(C,{variant:"clear","aria-label":"Thumbs Down",onClick:t,icon:i?p:M,marginLeft:"spacing-03",disabled:l&&!i})]})]}),R=e=>e.reduce((e,i)=>i.isChecked?z.includes(i.value)?{...e,[i.value]:"selected"}:{...e,[i.label]:i.value}:e,{}),V=({item:e,tripId:i,onSaveFeedback:o,...s})=>{var u=m(),[d,h]=l(!1),[v,p]=l(!1),[b,g]=l(!1),[f,k]=l(!1),[w]=c(),T=t((a,n,r)=>{var t=r?R(r):void 0;o?.(e.locationId?.toString()||"",n,t),u(a,{itemId:e.locationId?.toString()||"",tripId:i.toString(),...n?{helpful:n}:{},...t})},[u,i,o,e]),C=t(()=>{d||(p(!0),h(!0),T("TripDetailsFeedbackForm","YES"),w(a(O,{tripId:i})))},[d,w,T,i]),y=t(()=>{d||(g(!0),k(!0),h(!0),T("TripDetailsFeedbackForm","NO"))},[d,T]),P=t(e=>{k(!1),T("TripDetailsExperienceIssues","NO",e),w(a(O,{variant:"ThumbsDown",tripId:i}))},[w,T,i]);return n(r,{children:[a(E,{isThumbsUp:v,isThumbsDown:b,onThumbsUp:C,onThumbsDown:y,feedbackSent:d,...s}),a(W,{item:e,onSubmit:P,isOpen:f})]})},_=({...e})=>a(s,{children:a(V,{...e})});return[()=>{z=j.map(e=>e.value),e("GaiFeedback",_)},[e=>(a=e.jsx,n=e.jsxs,r=e.Fragment),e=>(t=e.useCallback,l=e.useState,o=e.useEffect),e=>(s=e.ToastProvider,c=e.useToast),e=>u=e.useOnVisible,e=>(d=e.usePreviewImpressionLogger,m=e.usePreviewInteractionLogger),e=>h=e.default,e=>v=e.default,e=>p=e.default,e=>b=e.ToastItem,e=>g=e.useVDOMPortal,e=>f=e.ModalContainer,e=>k=e.TextInput,e=>(w=e.default,T=e.BorderlessButton,C=e.CircularButton),e=>y=e.Checkbox,e=>P=e.useViewportCategory,e=>S=e.default,e=>N=e.BubbleRatingWithReviewCount,e=>I=e.TripLocationIconContent,e=>x=e.default,e=>M=e.default,e=>(B=e.default,D=e.margin)]]},["121h32","1o4yt4","9f08a0","13btuy","ibebqy","1essqv","wehxiu","1n4zdl","tr3542","14euae","1i3sz5","1u3aio","jppfwt","frf6ac","1ys6v1","34bu7w","1bkeq2","19l2zs","1u47wj","w43m8k","gw8uw6"]]);
