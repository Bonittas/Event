(this.$WP=this.$WP||[]).push(["igyuz7",(e,t)=>{var r,a,i,s,n,u,o,l,d,c,g,v,D,m,y,S,f,p,w,G,b,I,h=({children:e,eligibility:t,impressionKey:r})=>{var i=a(()=>({impressionKey:r,eligibility:t}),[t,r]);return y(b.Provider,{value:i,children:e})},E=()=>i(b),H="unknown",T="sponsoredListingIdClicked",L="requiredLoginActivated",C=()=>{var e=window?.navigator?.connection;return e?[e.effectiveType||H,e.type||H]:[H,H]},k=["AttractionsFusion"],R=["Restaurants","Restaurant_Review"],O=e=>{var t=l.get(T);return t&&t===e},q=e=>{l.set(T,e,18e5)},P=()=>{var{impressionKey:e,eligibility:t}=E();return x(t,e)},x=(e,t)=>{var r=v(),a=_(e.variant),{page:i}=c(),{geoId:n,locationId:u}=A();return s((e,s,o,l)=>{r({page:i,itemType:e,itemName:o,customData:JSON.stringify({...a,...s}),geoId:n,locationId:u,impressionKey:t,userId:l})},[r,a,i,n,u,t])},M=()=>{var e=g(),t=E(),r=_(t.eligibility.variant),{page:a}=c(),{geoId:i,locationId:n}=A();return s((s,u,o="click",l,d)=>{e({page:a,actionType:o,actionSubType:l,itemType:s,itemName:u,customData:JSON.stringify({...r,...d}),geoId:i,locationId:n,impressionKey:t.impressionKey})},[e,r,a,i,n,t])},_=e=>{var t=V();return a(()=>({variant:e,isDated:t}),[e,t])},V=()=>{var{page:e}=c(),{startDate:t,endDate:r}=z(e);return a(()=>!!t||!!r,[r,t])},z=e=>{var{restaurants:t,attractions:r}=d();if(k.includes(e)){if(r?.fromDate&&r?.toDate)return{startDate:r.fromDate,endDate:r.toDate};if(r?.singleDate)return{startDate:r.singleDate,endDate:null}}else if(R.includes(e))return{startDate:t?.date||null,endDate:null};return{startDate:null,endDate:null}},A=()=>{var{params:e}=c(),t="geoId"in e&&e.geoId||null,r="detailId"in e&&e.detailId||null;return a(()=>({geoId:t,locationId:r}),[t,r])},F=(e,t)=>{var r=x(e,t),a=!D(m()),i="MOBILE"===f();return s(()=>{i&&r("MembershipHardGateGhost",{googleOneTapEligible:a,businessLogicEligible:e.businessLogicEligible,showHardGate:e.showHardGate})},[r,e,a,i])},K=(e,t)=>{var r=P(),a=n(null),i=s(()=>{var i=Date.now();a.current&&clearTimeout(a.current),a.current=setTimeout(()=>{r(t,{actualTime:(Date.now()-i)/1e3})},e)},[e,t,r]);return u(()=>()=>clearTimeout(a.current),[]),i},N=e=>{if(!e)return null;switch(e){case"TA":return"email";case"GOOGLE":return"google";case"LINE":return"line";default:return null}},W=(e,t)=>{u(()=>{!e&&t&&l.set(L,new Date().getTime())},[e,t])},j=()=>{var e=l.get(L);return e?new Date(e):null},B="hardGateSessionData",J=(e,t)=>{var r=l.get(B)||{};e!==r.sessionId&&(r.sessionId=e,r.sessionStartTime=new Date,r.entryServlet=t,l.set(B,r))},$=()=>l.get(B)?.sessionStartTime,Q=()=>l.get(B)?.entryServlet,Y=()=>({fetching:!1,variant:"unbucketed",businessLogicEligible:!1,showHardGate:!1}),U={__key:4147086064582,id:"03c591977bc65ddead3c59158694c107",loc:{},definitions:[]};function X(e){return e?e.slice(0,23).replace("T"," "):""}var Z=()=>{var[e,t]=o(null);return u(()=>{t(X(new Date().toISOString()))},[]),e},ee=e=>{var t=w(),r=z(t),[{data:a,fetching:i,error:s}]=p({query:U,variables:{sessionStart:X($()),requestStart:Z()??"",tripDayStart:r.startDate?.toISOString().slice(0,10)??"",tripDayEnd:r.endDate?.toISOString().slice(0,10)??"",servlet:t,entryServlet:Q(),locale:G(),trafficSource:"Placeholder"},pause:e});return i||s?{fetching:i,error:s,...I}:{fetching:i,error:s,decision:a?.modelResponse?.decision||!1,score:a?.modelResponse?.score||0}};return[()=>{b=r({impressionKey:S(),eligibility:{variant:"unbucketed",businessLogicEligible:!1,showHardGate:!1}}),I={decision:!1,score:0},e({HardGateContext:b,HardGateContextProvider:h,ML_PAGE_VIEWED_KEY:"mlHardGatePageViewCount",getConnectionType:C,getEntryServlet:Q,getHardGateViewTimestamp:j,getSessionStartTime:$,isFromSponsoredClick:O,markFromSponsoredClick:q,setHardGateSessionData:J,sourceFromLoginProvider:N,useBounceTracking:K,useEmptyHardGateEligbility:Y,useHardGateContext:E,useHardGateEligibility:Y,useHardGateGhostImpression:F,useHardGateImpression:P,useHardGateInteraction:M,useHardGateMLModel:ee,useHardGateViewRecord:W,useIsDated:V,useRouteIds:A,useTravelDates:z})},[e=>(r=e.createContext,a=e.useMemo,i=e.useContext,s=e.useCallback,n=e.useRef,u=e.useEffect,o=e.useState),e=>l=e.default,e=>d=e.useTravelInfo,e=>c=e.useRoute,e=>g=e.default,e=>v=e.default,e=>D=e.shouldSuppressRegistrationDialog,e=>m=e.useSessionId,e=>y=e.jsx,e=>S=e.uuid,e=>f=e.useViewportCategory,e=>p=e.useQuery,e=>w=e.default,e=>G=e.useLocale]]},["1o4yt4","19b9b1","1etaac","fgwvq1","1r73jw","xg719z","cyrz7y","1al4vi","121h32","1eww82","1ys6v1","1mqwhq","eqoaya","17thqz"]]);
