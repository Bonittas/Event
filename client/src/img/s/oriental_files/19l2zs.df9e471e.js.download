(this.$WP=this.$WP||[]).push(["19l2zs",(t,e)=>{var a,i,n,r,o,d,l,c,u,s,m,p,_,f,h,v,g,y,C,b,I,T,A,k,w,N,x,D,S,E,R,O,L,z,q,M,Y,H,P,V,U,j,W,B,Q,F,G,$,J,K,Z,X,tt,te,ta,ti,tn,tr,to,td,tl,tc,tu,ts,tm,tp,t_,tf,th,tv,tg,ty,tC,tb,tI,tT,tA,tk,tw,tN,tx,tD,tS,tE,tR,tO,tL,tz,tq,tM,tY,tH,tP,tV,tU,tj,tW,tB,tQ,tF,tG,t$,tJ,tK,tZ,tX,t1,t0,t2,t9,t5,t3,t8,t6,t4,t7,et,ee,ea,ei,en,er,eo,ed,el,ec,eu,es,em,ep,e_,ef,eh,ev,eg,ey,eC,eb,eI,eT,eA,ek,ew,eN,ex,eD,eS,eE,eR,eO,eL,ez,eq,eM,eY,eH,eP,eV,eU,ej,eW,eB,eQ,eF=t=>{var e=a("div",{className:"VTyoU MH o",children:a(d,{variant:"title-04",dataAttributes:{"data-automation":"trip_item_card_title"},children:t.title})});return i("div",{className:"HSuGR e",children:[a(r,{labels:t.labels,title:e,href:t.itemLink,bubbleRating:t.reviewData,onClick:t.onClick}),a("div",{className:"YJlDY K M Mk",children:t.content})]})},eG={gaiDescriptionIcon:"bghvZ",descriptionContainer:"f",descriptionWrapper:"lCuqD"},e$=t=>{var{localize:e}=h(),n=p();return i("div",{className:eG.descriptionContainer,children:[t.isAIGenerated&&a(_,{className:eG.gaiDescriptionIcon,src:"/img2/trips/itinerary_description_icon_gai.svg","data-automation":"trip_card_description_gai_icon"}),a(l,{ctaNewline:!0,numLinesToShow:"MOBILE"===n?1:2,webkitLineClamp:!0,collapsible:!0,cta:a(u,{variant:"primary-small",marginTop:"spacing-02",dataAttributes:{"data-automation":"trip_card_description_read_more"},children:e.string("common_Read_more")}),ctaCollapse:a(u,{variant:"primary-small",marginTop:"spacing-02",dataAttributes:{"data-automation":"trip_card_description_read_less"},children:e.string("common_Readless")}),children:i("p",{className:eG.descriptionWrapper,children:[a(d,{elementType:"span",display:"inline",variant:"supporting-01",color:"secondaryText",dataAttributes:{"data-automation":"trip_card_description"},children:t.descriptionText}),t.isAIGenerated&&i(d,{elementType:"span",display:"inline",color:"placeholderText",variant:"supporting-01",dataAttributes:{"data-automation":"trip_card_description_ai_generated"},children:[" ","- Powered by AI"]})]})})]})},eJ={arrowContainer:"vdkQz _Q _Z",arrowLeft:"l",arrowRight:"_U"},eK=t=>{var[e,i]=C(0),n=t.travelersChoiceAwardData?.awardYear?a(N,{size:"large",color:"BOTB"===t.travelersChoiceAwardData.awardType?"yellow":"green",year:t.travelersChoiceAwardData.awardYear}):void 0;return a(o,{award:n,action:t.action,children:a("a",{href:t.itemLink,target:"_blank",children:a(x,{itemRenderer:e=>a(w,{source:t.photos?.[e],width:"100%",height:"100%"}),totalCount:t.photos?.length||0,currentIndex:e,onNav:e=>{t.photos?.length&&i(e)},arrowSize:"small",nodeWrappers:{rightArrow:t=>a("div",{className:k(eJ.arrowContainer,eJ.arrowRight),children:t}),leftArrow:t=>a("div",{className:k(eJ.arrowContainer,eJ.arrowLeft),children:t})}})})})},eZ={commerceContainer:"cSRUU f u k",buttonContainer:"o q"},eX=t=>{var e=t.ctaLink&&t.ctaTitle?a("div",{className:eZ.buttonContainer,children:a(c,{variant:"secondary-commerce",size:"small",href:t.ctaLink,target:"_blank",dataAttributes:{"data-automation":"trip_item_commerce_cta_button"},onClick:t.onCTAClick,children:a(d,{variant:"button-03",children:t.ctaTitle})})}):void 0;return i(e1,{children:[a(d,{variant:"supporting-03",dataAttributes:{"data-automation":"trip_item_commerce_description"},children:t.description}),e]})},e1=({children:t})=>a("div",{className:eZ.commerceContainer,children:t});function e0({tripId:t,itemId:e,saveObject:i,size:n,variant:r,dataAttributes:o,onClick:d,onSaveComplete:l,onUnsaveComplete:c}){var{localize:u}=h(),{launchErrorToast:p,launchItemRemovedToast:_,launchItemAddedToast:f}=E(),{state:v,save:g,unsave:y}=S(),C=b(async()=>{var e=await g(t,i);return e.error||(f(),l?.()),e},[f,l,g,i,t]),I=b(async e=>{d?.(e),(await y(t,i)).error?p():(_("",C),c?.())},[p,_,d,C,c,t,y,i]);return a(s,{size:n,variant:r,icon:m,disabled:v.fetching,"aria-label":u.string("trip_detail_remove_from_trip"),onClick:I,dataAttributes:{"data-automation":`trip-unsave-button-item-${e}`,...o}})}function e2({tripId:t,itemId:e,saveObject:i,inViewport:n,isOwner:r,onClick:o,onSaveComplete:d,onUnsaveComplete:l}){return r?a(e0,{tripId:t,itemId:e,saveObject:i,size:"medium",dataAttributes:{"data-automation":"trip_item_save_button"},onClick:o,onSaveComplete:d,onUnsaveComplete:l}):n?a(D,{id:i.id,type:i.type,size:"medium",position:"static",dataAttributes:{"data-automation":"trip_item_save_button"},onClick:o,onSaveComplete:d,onUnsaveComplete:l}):null}var e9={__key:0x9dbc503d4fa3,id:"9dbc503d4fa3b2126648c284e1ac01d3",loc:{},definitions:[]},e5={__key:30306531843783,id:"1b904a109ec776b9164c2f5d9e6f51af",loc:{},definitions:[]},e3={textInputContainer:"LmSFY f Q3",textInputContainerForImageCard:"Tfsqo",textInputContainerForContentCard:"YQDcy",textInputContainerActive:"WtLJo",textInputContainerInactive:"Jguek",avatar:"DRNVy",textInput:"CsSZo",addCommentButton:"VAaxI f u",addCommentButtonActive:"IENSa",addCommentButtonInactive:"YtuFw"},e8=({avatarUrl:t,variant:e,itemId:n,tripId:r,editComment:o,setEditComment:d})=>{var[l,c]=C(""),[{fetching:s},m]=q(e9),[{fetching:p},_]=q(e5),[h]=I(P),v=L(r),{fragment:g}=W(),y=T(()=>j(g),[g]);A(()=>{c(o.body??"")},[o.body]);var w=0===l.length,N=b(()=>{h({node:a(V,{children:a(f,{id:"trips_general_error"})})})},[h]);return i("div",{className:k(e3.textInputContainer,{[e3.textInputContainerActive]:!w,[e3.textInputContainerInactive]:w,[e3.textInputContainerForContentCard]:"CONTENT-CARD"===e,[e3.textInputContainerForImageCard]:"IMAGE-CARD"===e}),children:[a("div",{className:e3.avatar,children:a(Y,{size:"xs",source:t??""})}),a("input",{type:"text",className:e3.textInput,"aria-label":"Add a comment",placeholder:"Add a comment...",value:l,onChange:t=>{c(t.target.value)},"data-automation":"trip_item_comment_input",maxLength:5e3}),a(u,{disabled:w,onClick:o.body?()=>{p||(v({itemName:"SaveCommentEdit",customData:{itemId:n??0,comment:l,savesView:!y||"Saves"===y}}),_({request:{commentId:o.id??0,body:l}}).then(t=>{if(t.error)throw t.error;c(""),d({id:null,body:null})}).catch(()=>{N()}))}:()=>{s||(v({itemName:"AddCommentToItem",customData:{itemId:n??0,savesView:!y||"Saves"===y}}),m({request:{itemId:n??0,body:l}}).then(t=>{if(t.error)throw t.error;c("")}).catch(()=>{N()}))},"aria-label":"submit","data-automation":"trip_item_comment_submit",children:p||s?a("div",{className:e3.addCommentButton,children:a(U,{variant:"xsmall"})}):a("div",{className:k(e3.addCommentButton,{[e3.addCommentButtonActive]:!w,[e3.addCommentButtonInactive]:w}),children:a(H,{size:16,color:"secondaryIcon"})})})]})},e6={commentContainer:"f Q2 _c",avatarWrapper:"GKKQl",readMore:"axpSy",actionMenuWrapper:"uoCTw"},e4={__key:0xd57002bd0142,id:"d57002bd0142562c026e77d473001551",loc:{},definitions:[]},e7=({itemId:t,commentId:e,body:i,tripId:n,setEditComment:r})=>{var[o]=I(P),d=L(n),[{fetching:l},c]=q(e4),[{fetching:s},m]=q(e9),{fragment:p}=W(),_=T(()=>j(p),[p]),h=b(()=>{o({node:a(V,{children:a(f,{id:"trips_general_error"})})})},[o]),v=b(()=>{var e=a(G,{onClick:()=>{s||(d({itemName:"UndoDeleteComment",customData:{itemId:t,savesView:!_||"Saves"===_}}),m({request:{itemId:t,body:i}}).then(t=>{if(t.error)throw t.error}).catch(()=>{h()}))},children:a(f,{id:"stat_modal_undo"})});o({node:a(V,{cta:e,children:"Your comment was deleted."})})},[o,i,h,t,s,m,d,_]),g=[{onClick:()=>{d({itemName:"EditItemComment",customData:{itemId:t,savesView:!_||"Saves"===_}}),r({id:e,body:i})},content:"Edit comment",key:"edit-comment",icon:J,dataAttributes:{"data-automation":"trip_item_comment_edit"}},{onClick:()=>{l||(d({itemName:"DeleteComment",customData:{itemId:t,savesView:!_||"Saves"===_}}),c({commentIds:e}).then(t=>{if(t.error)throw t.error;v()}).catch(()=>{h()}))},content:"Delete comment",key:"delete-comment",icon:$,iconColor:"dangerIcon",textColor:"dangerText",dataAttributes:{"data-automation":"trip_item_comment_delete"}}];return a(Q,{items:g,above:!0,alignEdge:"right",children:(t,e)=>a(u,{ref:t,onClick:e,"aria-label":"open comment action menu","data-automation":"trip_item_comment_action_menu",children:a("div",{className:"yejfy f j u Rc",children:a(F,{size:18})})})})},at=({itemId:t,commentId:e,author:n,body:r,tripId:o,setEditComment:c,index:s})=>{var{localize:m}=h(),p=R();if(!t||!e||!r||!n.userId||!n.displayName)return null;var _=p===n.userId,f=a(u,{variant:"primary-small",marginTop:"spacing-01",dataAttributes:{"data-automation":"trip_item_comment_read_more"},children:m.string("common_Read_more")}),v=a(u,{variant:"primary-small",marginTop:"spacing-01",dataAttributes:{"data-automation":"trip_item_comment_read_less"},children:m.string("common_Readless")});return i("div",{className:e6.commentContainer,"data-automation":`trip_item_comment_${s}`,children:[a("div",{className:e6.avatarWrapper,children:a(Y,{size:"xs",source:n.avatarUrl??""})}),a("div",{className:e6.readMore,children:i(l,{ctaNewline:!0,numLinesToShow:4,webkitLineClamp:!0,collapsible:!0,cta:f,ctaCollapse:v,children:[a(d,{display:"inline",variant:"supporting-03",dataAttributes:{"data-automation":"trip_item_comment_author_name"},children:n.displayName??"Unknown User"}),i(d,{display:"inline",variant:"supporting-01",dataAttributes:{"data-automation":"trip_item_comment_text"},children:[" ",r]})]})}),_&&a("div",{className:e6.actionMenuWrapper,children:a(eA,{tripId:o,itemId:t,commentId:e,body:r,setEditComment:c})})]})},ae={commentSectionContainer:"_Z f e k",commentsWrapper:"sWhSj f e Q3 MJ",commentsWrapperForImageCard:"edEdS",addCommentWrapper:"XryEh"},aa=({comments:t,variant:e,itemId:n,actionPermissions:r,tripId:o})=>{var d=R(),[l,c]=C({id:null,body:null}),[s,m]=C(!1),p=L(o),[_]=z({query:O,variables:{userId:d}}),f=t||[],h=f.slice(Math.max(0,f.length-2),f.length),v=!!f.length,g=h.length<f.length,y=!!l.body,b=f.some(t=>t?.comment?.author?.userId===d),I=_.data?.memberProfiles?.[0]?.avatar?.photoSizes?.[0]?.url??null;return i("div",{className:ae.commentSectionContainer,children:[v?i("div",{className:k(ae.commentsWrapper,{[ae.commentsWrapperForImageCard]:"IMAGE-CARD"===e}),children:[(s?f:h).map((t,e)=>a(ek,{author:{userId:t?.comment?.author?.userId??null,avatarUrl:t?.comment?.author?.avatar?.__typename==="MemberProfile_MediaId"&&t?.comment?.author?.avatar?.data?.__typename==="Media_PhotoResult"&&t?.comment?.author?.avatar?.data?.sizes?.[0]?t?.comment?.author?.avatar?.data?.sizes?.[0]?.url:null,displayName:t?.comment?.author?.displayName??null},itemId:n,commentId:t?.comment?.id??null,body:t?.comment?.body??null,setEditComment:c,index:e,tripId:o},t?.comment?.id)),g&&a(u,{leftAlign:!0,onClick:()=>{m(t=>!t),s||p({itemName:"ClickToShowComment",customData:{itemId:n}})},"data-automation":"trip_item_comment_section_expand_collapse_button",children:s?"See less comments":"See all comments"})]}):a("div",{}),r?.canEdit&&(!b||y)&&a("div",{className:ae.addCommentWrapper,children:a(eT,{tripId:o,itemId:n,variant:e,avatarUrl:I,editComment:l,setEditComment:c})})]})},ai=({content:t,icon:e,dataAttributes:n})=>i("div",{className:"nfyaF _W M",children:[a("span",{className:"eNwBI",children:a(e,{})}),a(d,{variant:"supporting-01",dataAttributes:n,children:t})]}),an={triggerText:"Wb",dayRow:"APjaC k",dayText:"Vdotj",timeSection:"aUYKD I",tooltipContents:"DYmox e Q2",timeText:"ejHyH I",modalContent:"ekQpW"},ar=["MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY","SATURDAY","SUNDAY"],ao=({hourOptions:t})=>{var[e,r]=C(!1),{localize:o}=h(),l=p(),c=v();if(A(()=>{"MOBILE"!==l&&e&&r(!1)},[l,e]),!(t||[]).some(t=>t.timeIntervals?.length))return null;var s=t=>{var{hours:e,minutes:a}=t,i=new Date;return i.setHours(e||0),i.setMinutes(a||0),c.formatDate("time_12_24",i)},m=t=>{switch(t){case"MONDAY":return o("monday_52");case"TUESDAY":return o("tuesday_52");case"WEDNESDAY":return o("wednesday_52");case"THURSDAY":return o("thursday_52");case"FRIDAY":return o("friday_52");case"SATURDAY":return o("saturday_52");case"SUNDAY":return o("sunday_52");default:return""}},_=a(d,{variant:"supporting-01",dataAttributes:{"data-automation":"trip_item_see_hours"},children:a("span",{className:an.triggerText,children:"See Hours"})}),f=t=>t?a("div",{className:an.timeSection,children:t.openingTime&&t.closingTime&&a("div",{className:an.timeText,children:a(d,{variant:"body-01",dataAttributes:{"data-automation":"trip_item_hours"},children:`${s(t.openingTime)} - ${s(t.closingTime)}`})},t?.openingTime.hours)}):a("div",{className:an.timeSection,children:a(d,{variant:"body-01",dataAttributes:{"data-automation":"trip_item_closed_label"},children:"Closed"})}),g=t=>a("div",{className:an.dayText,children:t?a(d,{variant:"body-01",dataAttributes:{"data-automation":"trip_item_hours_day"},children:m(t)}):a("div",{})}),y=[];ar.forEach(e=>{var a=t?.find(t=>t.day===e);a?.timeIntervals?.length||y.push({day:e,dayText:e,hours:null}),a?.timeIntervals?.forEach((t,a)=>{y.push({day:e,dayText:0===a?e:null,hours:t})})});var b=a("div",{className:an.tooltipContents,children:y.map((t,e)=>{var a=`${e} - ${t.day}`;return i("div",{className:an.dayRow,"data-automation":`trip_item_hours_day_${t.day}_${e}`,children:[g(t.dayText),f(t.hours)]},a)})});return a(eN,{icon:K,content:"MOBILE"!==l?a(Z,{fitToContent:"expand",triggeringElement:_,content:b,variant:"top-caret",alignment:"left"}):i(n,{children:[a(u,{variant:"primary-small",onClick:()=>{r(!0)},dataAttributes:{"data-automation":"trip_item_see_hours_button"},children:_}),e&&a(X,{slideFrom:"bottom",onClose:()=>r(!1),isOpen:e,bodyContentClass:an.modalContent,children:b})]})})},ad=(t,e)=>{switch(t){case"EATERY":return e("common_Restaurant_3dd");case"ATTRACTION":return e("common_Attraction_3dd");case"ACCOMMODATION":return e("common_Hotel");case"ACTIVITY":return e("attractions.tickets_and_tours");case"NEIGHBORHOODS":return e("attractiontype.name.v3.34");default:return null}},al=t=>t?.dailyTimeIntervals?.map(t=>({day:t?.day??null,timeIntervals:t?.timeIntervals?.map(t=>({openingTime:{hours:t?.openingTime?.hours??null,minutes:t?.openingTime?.minutes??null},closingTime:{hours:t?.closingTime?.hours??null,minutes:t?.closingTime?.minutes??null}})??null)??null}))??[],ac={__key:0xd18f90bba238,id:"d18f90bba2389b05a35bb9b292e57f7d",loc:{},definitions:[]};function au({tripItem:t,pauseQuery:e},a){var{price:i,duration:n}=function({locationId:t},e=!1){var[{fetching:a,data:i}]=z({query:ac,variables:{locationId:t,currency:g()},pause:e});return{loading:a,price:i?.attraction?.[0]?.details?.minTicketPriceInfo?.price,duration:i?.attraction?.[0]?.details?.recommendedVisit}}({locationId:Number(t.locationId)},e||!t.locationId||a);return{bookingData:i?{ctaTitle:"See options",ctaLink:t.route?.url||"",description:"Explore different ways to experience this place."}:void 0,duration:n}}var as=(t,e)=>eD[t]||e||tr,am=({tripItem:t,variant:e="standard",pauseQuery:r=!1})=>{var{hoursOfOperation:o,locationV2:l}=t,{duration:c}=au({tripItem:t,pauseQuery:r}),u=i("div",{className:"_W K Q1",children:[a(d,{variant:"supporting-01",children:"Duration:"}),c]}),{localize:s}=h(),m=ad("ATTRACTION",s),p=l?.tags?.tags?.[0];return i(n,{children:[a(eN,{content:p?.tag?.localizedName||m,icon:p?.tagId?as(p.tagId,tt):tt,dataAttributes:{"data-automation":"trip_item_destination"}}),"minimal"!==e&&c&&a(eN,{content:u,icon:K,dataAttributes:{"data-automation":"trip_item_duration"}}),"extended"===e&&o?.dailyTimeIntervals&&a(ex,{hourOptions:al(o)??null,itemId:t.locationId})]})},ap=t=>{if(t.locationV2?.details?.__typename!=="LocationSelection_AttractionProductDetails")return null;var e=t.locationV2.details.productDetails?.displayDuration;return e?a(ec,{variant:"long",flexibleDisplayDuration:"from"in e?e:null,fixedDisplayDuration:"durationInMinutes"in e?e:null}):null},a_=({tripItem:t,variant:e="standard"})=>{var{hoursOfOperation:r}=t,o=ap(t),{localize:d}=h();return i(n,{children:[a(eN,{content:ad("ACTIVITY",d),icon:tr,dataAttributes:{"data-automation":"trip_item_place_type"}}),o&&a(eN,{content:o,icon:K,dataAttributes:{"data-automation":"trip_item_duration"}}),"extended"===e&&r?.dailyTimeIntervals&&a(ex,{hourOptions:al(r)??null,itemId:t.locationId})]})},af=({tripItem:t})=>a(eN,{content:t.locationV2?.names?.longOnlyHierarchyTypeaheadV2,icon:eu,dataAttributes:{"data-automation":"trip_item_geo_location"}}),ah=t=>{switch(t){case"HOTEL":return 1;case"BB":return 2;case"OTHER":return 3;case"COLLAPSED_BB_INN":return 99;case"VR":return 6;default:return 0}},av=({accommodationCategory:t,popIndexRank:e,popIndexTotal:i,parentName:n})=>t&&n&&e&&i&&!(i<2)?a(d,{variant:"supporting-01",dataAttributes:{"data-automation":"trip_item_pop_index"},children:a(y,{id:"common_n_of_n_lodgingtype_in_geo_pl",args:{1:e,2:i,3:ah(t),4:n}})}):null,ag={popIndex:"w"},ay=({tripItem:t,variant:e="standard",withPopIndex:r})=>{var o=t.detail?.__typename==="Hotel"?t.detail?.hotel?.providerStarRating:void 0,d=t.localizedStreetAddress?.street1;return i(n,{children:[a(eN,{content:o?`${o}-star hotel`:"Hotel",icon:es,dataAttributes:{"data-automation":"trip_item_place_type"}}),"minimal"!==e&&d&&a(eN,{content:d,icon:eu,dataAttributes:{"data-automation":"trip_item_address"}}),"minimal"!==e&&r&&a("div",{className:ag.popIndex,children:a(eO,{accommodationCategory:t.accommodationCategory,parentName:t.geoName,popIndexRank:t.popIndexDetails?.popIndexRank,popIndexTotal:t.popIndexDetails?.popIndexTotal})})]})},aC=({tripItem:t,pauseQuery:e=!1,variant:r="standard"})=>{var{localize:o}=h(),l=ad("NEIGHBORHOODS",o),{duration:c}=au({tripItem:t,pauseQuery:e},"minimal"===r),u=i("div",{style:{display:"inline-flex"},children:[a(d,{variant:"supporting-01",marginRight:"spacing-01",dataAttributes:{"data-automation":"trip_item_card_duration_label"},children:"Duration: "}),c]});return i(n,{children:[a(eN,{content:l,icon:tL,dataAttributes:{"data-automation":"trip_item_place_type"}}),c&&a(eN,{content:u,icon:K,dataAttributes:{"data-automation":"trip_item_duration"}})]})},ab=({tripItem:t,restaurantsHourOptionsMap:e})=>{if(t.hoursOfOperation?.dailyTimeIntervals)return a(ex,{hourOptions:al(t.hoursOfOperation)??null,itemId:t.locationId});var i=e?.get(Number(t.locationId));return i?a(ex,{hourOptions:i,itemId:t.locationId}):null},aI=({tripItem:t,restaurantsHourOptionsMap:e,variant:r="standard"})=>{var{localize:o}=h(),l=ad("EATERY",o),c=t.cuisines?.slice(0,2)||[],u=[...("minimal"!==r?c:[]).map(t=>t?.localizedName),"extended"===r?t.price?.[0]?.localizedName:null].filter(Boolean),s=eq({tripItem:t,restaurantsHourOptionsMap:e});return i(n,{children:[a(eN,{content:l,icon:tF,dataAttributes:{"data-automation":"trip_item_place_type"}}),u.length>0&&a(eN,{content:a(d,{variant:"supporting-01",display:"inline",children:u.join(" • ")}),icon:em,dataAttributes:{"data-automation":"trip_item_cuisines"}}),"extended"===r?s:null]})},aT=({tripItem:t,variant:e="standard"})=>{var r=t.locationV2?.accommodationType?.name,o=t.localizedStreetAddress?.street1;return i(n,{children:[a(eN,{content:"Vacation Rental",icon:ep,dataAttributes:{"data-automation":"trip_item_place_type"}}),"minimal"!==e&&o&&a(eN,{content:o,icon:eu,dataAttributes:{"data-automation":"trip_item_address"}}),"minimal"!==e&&r?i(d,{variant:"supporting-01",display:"inline",dataAttributes:{"data-automation":"trip_item_accommodation_type"},children:[" • ",r]}):null]})},aA=({item:t,restaurantsHourOptionsMap:e,variant:i="standard",pauseQuery:n=!1,tripDateType:r})=>{if(t.locationV2?.tags?.tags.find(t=>t?.tagId===11066))return a(ez,{tripItem:t,pauseQuery:n,variant:i});if(t.isGeo)return a(eR,{tripItem:t});switch(t.placeType){case"ACTIVITY":return a(eE,{tripItem:t,variant:i});case"ATTRACTION":return a(eS,{tripItem:t,variant:i,pauseQuery:n});case"EATERY":return a(eM,{tripItem:t,variant:i,restaurantsHourOptionsMap:e});case"ACCOMMODATION":if("VR"===t.accommodationCategory)return a(eY,{tripItem:t,variant:i});return a(eL,{tripItem:t,variant:i,withPopIndex:"DATES"!==r});default:return null}};function ak(t,e){if(e.length<t)throw TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function aw(t){return ak(1,arguments),(function(t){ak(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||"object"==typeof t&&"[object Date]"===e?new Date(t.getTime()):"number"==typeof t||"[object Number]"===e?new Date(t):(("string"==typeof t||"[object String]"===e)&&"undefined"!=typeof console&&Error().stack,new Date(NaN))})(t).getTime()<Date.now()}var aN={__key:0xda5858c05096,id:"da5858c05096836fa3fb4fa3f05cfb4c",loc:{},definitions:[]};function ax({locationId:t,checkInDate:e,checkOutDate:n,pauseQuery:r=!1}){var{price:o,loading:l}=function(t,e=!1){var a=g(),i=e_(),n=B(),{locationId:r,checkInDate:o,checkOutDate:d,adults:l=2,rooms:c=1}=t,u=e||r<0||!o||!d||aw(new Date(o)),s=ef(d),[m]=ev({query:aN,variables:{request:{hotelId:r,sessionId:i,pageLoadUid:n,requestCaller:"Trips",currencyCode:a,shapeStrategy:"DEFAULT_DESKTOP_OFFER_SHAPE",optimusEnabled:!1,allowOptimusDisplayPrice:!1,trackingEnabled:!1,travelInfo:{checkInDate:o,checkOutDate:d===o&&s?eh(M(s,1)):d,adults:l,rooms:c}}},pause:u,isResultComplete:t=>!!t?.data?.HPS_getWebHROffers?.complete});return{loading:m.fetching,price:m.data?.HPS_getWebHROffers?.chevronOffers?.[0]?.priceText}}({locationId:t,checkInDate:e,checkOutDate:n,adults:2,rooms:1},r);return l?a(U,{variant:"small","aria-label":"Loading price"}):o?i(d,{variant:"title-05",display:"inline-block",dataAttributes:{"data-automation":"trip_item_hotel_price"},children:[o," per night"]}):null}var aD=({tripItem:t,trip:e,pauseQuery:i=!1,onCommerceClick:n})=>{var r=e?.date?.type==="DATES"?{ctaTitle:"See rates",ctaLink:t.route?.url||"",description:a(ax,{locationId:t.locationId||-1,checkInDate:e?.date?.from||"",checkOutDate:e?.date?.to||"",pauseQuery:i})}:void 0;return r?.ctaTitle&&r?.ctaLink&&r?.description?a(eI,{ctaTitle:r.ctaTitle,ctaLink:r.ctaLink,description:r.description,onCTAClick:n}):null},aS=({description:t,ctaText:e,ctaLink:n,onCTAClick:r})=>t&&e&&n?i("div",{className:"tQJio e G Q3",children:[a("div",{className:"AdXEG",children:a(tr,{size:20})}),a("div",{className:"VOCwX",children:a(d,{variant:"supporting-01",dataAttributes:{"data-automation":"trip_item_attraction_gai_commerce_description"},children:t})}),a("div",{className:"qCbsx",children:a(u,{variant:"primary-small",href:n,leftAlign:!0,target:"_blank",dataAttributes:{"data-automation":"trip_item_attraction_gai_commerce_cta"},onClick:r,children:e})})]}):null,aE=({description:t,ctaText:e,ctaLink:n,onCTAClick:r})=>t&&e&&n?i("div",{className:"WVEJi f e _Y G",children:[a(d,{variant:"supporting-01",dataAttributes:{"data-automation":"trip_item_attraction_non_gai_commerce_description"},children:t}),a(u,{variant:"primary-small",href:n,leftAlign:!0,target:"_blank",dataAttributes:{"data-automation":"trip_item_attraction_non_gai_commerce_cta"},onClick:r,children:e})]}):null,aR=({tripItem:t,isAIGenerated:e=!1,recommendedProduct:i,pauseQuery:n=!1})=>{var{localize:r}=h(),o=v(),{bookingData:d}=au({tripItem:t,pauseQuery:n||e});if(e){var{pricingInfo:l,route:c,title:u}=i??{};if(l?.fromPrice&&c?.url&&u?.text){var s=o.formatCurrency(l.fromPrice),m="UNIT"===l.pricingType?r.string("phoenix_list_attractions_from_price_per_group_txt_v2",{price:s}):r.string("phoenix_product_attractions_from_price_per_person_txt_v2",{price:s});return a(e1,{children:a(eV,{description:u.text,ctaText:m,ctaLink:c.url})})}return null}return d?.ctaTitle&&d?.ctaLink&&d?.description?a(e1,{children:a(eU,{description:d.description,ctaLink:d.ctaLink,ctaText:d.ctaTitle})}):null},aO={__key:0x9509a9b40b68,id:"9509a9b40b688db69b6f950153a1c9c3",loc:{},definitions:[]};function aL({locationId:t,checkInDate:e,checkOutDate:r,pauseQuery:o=!1}){var{price:d,loading:l}=function({locationId:t,checkInDate:e,checkOutDate:a,adults:i=2},n=!1){var[{fetching:r,data:o}]=z({query:aO,variables:{request:{propertyId:t,arrival:e,departure:a,adults:i}},pause:n||t<0||!e||!a||aw(new Date(e))}),d=o?.RentalInformation_getRentalRate?.[0]?.rentalRate,l=d?.errors?.length,c=d?.subtotal;return{loading:r,price:l?null:c}}({locationId:t,checkInDate:e,checkOutDate:r,adults:2},o);return l?a(U,{variant:"small","aria-label":"Loading price"}):d?i(n,{children:[d," per night"]}):null}var az=({tripItem:t,trip:e,pauseQuery:i=!1,onCommerceClick:n})=>{var r=e?.date?.type==="DATES"?{ctaTitle:"See rates",ctaLink:t.route?.url||"",description:a(aL,{locationId:t.locationId||-1,checkInDate:e?.date?.from||"",checkOutDate:e?.date?.to||"",pauseQuery:i})}:void 0;return r?.ctaTitle&&r?.ctaLink&&r?.description?a(eI,{onCTAClick:n,ctaTitle:r.ctaTitle,ctaLink:r.ctaLink,description:r.description}):null},aq=({tripItem:t,onCommerceClick:e})=>{var i=v();if(t.locationV2?.details?.__typename!=="LocationSelection_AttractionProductDetails")return null;var n=t.locationV2.details.productDetails?.pricingInfo;return n?.fromPrice&&t.route?.url?a(eI,{ctaTitle:"See options",ctaLink:t.route.url,onCTAClick:e,description:a(d,{variant:"supporting-01",dataAttributes:{"data-automation":"attraction_product_commerce_element"},children:a(eg,{price:a(d,{variant:"supporting-03",display:"inline-block",children:i.formatCurrency(n.fromPrice)}),isPerGroupPricing:"UNIT"===n.pricingType})})}):null},aM=({tripItem:t,trip:e,isAIGenerated:i,recommendedProduct:n,pauseQuery:r=!1,onCommerceClick:o})=>{switch(t.placeType){case"ATTRACTION":return a(ej,{tripItem:t,isAIGenerated:i,recommendedProduct:n,pauseQuery:r});case"ACTIVITY":return a(eB,{tripItem:t,onCommerceClick:o});case"ACCOMMODATION":if("VR"===t.accommodationCategory)return a(eW,{tripItem:t,trip:e,pauseQuery:r,onCommerceClick:o});return a(eP,{tripItem:t,trip:e,pauseQuery:r,onCommerceClick:o});default:return null}};return t("CardSaveButton",e2),[()=>{ey=eF,eC=e$,eb=eK,eI=eX,eT=e8,eA=e7,ek=at,ew=aa,eN=ai,ex=ao,eD={10850:t3,11036:tn,11037:ts,11038:tq,11041:ts,11042:tI,11045:ts,11047:tk,11050:tq,11051:ts,11052:ts,11053:tM,11054:tk,11059:tt,11061:tO,11063:tO,11064:tO,11065:tO,11067:tO,11068:tg,11072:tQ,11073:tx,11076:tM,11077:tH,11081:tA,11082:tA,11083:tH,11085:tY,11089:tH,11090:tA,11091:tH,11092:tA,11093:tB,11095:te,11096:tZ,11098:tA,11099:tl,11101:tp,11106:tH,11107:tH,11108:ea,11110:ta,11119:tu,11130:tU,11131:el,11132:t0,11134:tA,11142:t0,11143:t0,11144:eo,11145:eo,11146:el,11147:ta,11149:tK,11150:tK,11152:tK,11154:t2,11155:tK,11158:tO,11159:ee,11160:tt,11162:tg,11163:ee,11168:ts,11169:eo,11183:tW,11184:tX,11197:t2,11207:t_,11225:tb,11864:tw,11867:t9,11871:tK,11878:t9,11879:ty,11881:tR,11885:t_,11887:t_,11888:ee,11889:t9,11890:tF,11891:eo,11899:tr,11900:tr,11901:tr,11902:tp,11903:tH,11904:tZ,11908:t3,11909:ta,11911:tl,11912:tX,11917:ty,11918:t7,11919:ty,11921:en,11922:t9,11923:tv,11924:tF,11927:el,11928:t5,11929:t5,11930:t4,11931:tq,11932:ee,11933:t_,11934:t8,11938:tR,11939:tG,11941:tb,11942:tb,11944:ta,11948:th,11949:tH,11952:ed,11953:eo,11962:tA,11963:t_,11964:t_,11965:t_,11966:ee,11968:t_,11969:tc,11970:tN,11971:tA,11973:tN,11974:tP,11976:t1,12009:tl,12010:t$,12011:to,12013:tq,12019:tW,12021:tX,12023:ee,12025:tw,12026:tw,12027:ei,12028:tf,12029:ts,12030:et,12031:t3,12032:t8,12033:td,12034:tE,12035:t6,12036:t_,12038:tV,12040:t0,12041:tb,12042:tJ,12043:tU,12044:t4,12046:te,12047:tS,12052:er,12053:tC,12054:tz,12056:tj,12057:tz,12058:t4,12061:tX,12062:tD,12063:tv,12065:er,12066:tI,12067:tA,12068:t$,12071:tT,12073:tm,12074:tr,12075:tL,12076:t$,12077:ti,12080:tY,20375:tK,20386:ta},eS=am,eE=a_,eR=af,eO=av,eL=ay,ez=aC,eq=ab,eM=aI,eY=aT,eH=aA,eP=aD,eV=aS,eU=aE,ej=aR,eW=az,eB=aq,eQ=aM,t({AttractionGaiCommerce:eV,AttractionIconContent:eS,AttractionNonGaiCommerce:eU,AttractionProductIconContent:eE,CardCommentElement:ew,CardCommerceElement:eI,CardDescriptionElement:eC,CardHeaderElement:ey,CardMediaElement:eb,CardSaveButton:e2,GeoIconContent:eR,HotelIconContent:eL,NeighborhoodIconContent:ez,RestaurantIconContent:eM,TripHoursDetail:ex,TripLocationCommerceElement:eQ,TripLocationIconContent:eH,VacationRentalIconContent:eY,getAttractionIcon:as})},[t=>(a=t.jsx,i=t.jsxs,n=t.Fragment),t=>(r=t.CardHeader,o=t.CardMedia),t=>d=t.default,t=>l=t.ReadMore,t=>(c=t.default,u=t.BorderlessButton,s=t.CircularButton,m=t.HeartFillIconSelected),t=>p=t.useViewportCategory,t=>_=t.CdnImage,t=>(f=t.default,h=t.useLocalize,v=t.useIntlFormatter,g=t.useCurrency,y=t.UnsafeLocalize),t=>(C=t.useState,b=t.useCallback,I=t.useContext,T=t.useMemo,A=t.useEffect),t=>k=t.default,t=>w=t.default,t=>N=t.default,t=>x=t.default,t=>D=t.default,t=>S=t.useTripSave,t=>E=t.default,t=>R=t.useUserId,t=>O=t.GetUserAvatar,t=>L=t.useSavesInteractionLogger,t=>z=t.useQuery,t=>(q=t.useTripMutation,M=t.addDays),t=>Y=t.Avatar,t=>H=t.default,t=>(P=t.Toast,V=t.ToastItem),t=>U=t.Spinner,t=>j=t.getTripPageTabFromFragment,t=>(W=t.useRoute,B=t.usePageviewUid),t=>Q=t.PopoverMenu,t=>F=t.default,t=>G=t.default,t=>$=t.default,t=>J=t.default,t=>K=t.default,t=>Z=t.HoverTooltip,t=>X=t.default,t=>tt=t.default,t=>te=t.default,t=>ta=t.default,t=>ti=t.default,t=>tn=t.default,t=>tr=t.default,t=>to=t.default,t=>td=t.default,t=>tl=t.default,t=>tc=t.default,t=>tu=t.default,t=>ts=t.default,t=>tm=t.default,t=>tp=t.default,t=>t_=t.default,t=>tf=t.default,t=>th=t.default,t=>tv=t.default,t=>tg=t.default,t=>ty=t.default,t=>tC=t.default,t=>tb=t.default,t=>tI=t.default,t=>tT=t.default,t=>tA=t.default,t=>tk=t.default,t=>tw=t.default,t=>tN=t.default,t=>tx=t.default,t=>tD=t.default,t=>tS=t.default,t=>tE=t.default,t=>tR=t.default,t=>tO=t.default,t=>tL=t.default,t=>tz=t.default,t=>tq=t.default,t=>tM=t.default,t=>tY=t.default,t=>tH=t.default,t=>tP=t.default,t=>tV=t.default,t=>tU=t.default,t=>tj=t.default,t=>tW=t.default,t=>tB=t.default,t=>tQ=t.default,t=>tF=t.default,t=>tG=t.default,t=>t$=t.default,t=>tJ=t.default,t=>tK=t.default,t=>tZ=t.default,t=>tX=t.default,t=>t1=t.default,t=>t0=t.default,t=>t2=t.default,t=>t9=t.default,t=>t5=t.default,t=>t3=t.default,t=>t8=t.default,t=>t6=t.default,t=>t4=t.default,t=>t7=t.default,t=>et=t.default,t=>ee=t.default,t=>ea=t.default,t=>ei=t.default,t=>en=t.default,t=>er=t.default,t=>eo=t.default,t=>ed=t.default,t=>el=t.default,t=>ec=t.ProductDuration,t=>eu=t.default,t=>es=t.default,t=>em=t.default,t=>ep=t.default,t=>e_=t.useSessionId,t=>(ef=t.isoStringToDate,eh=t.dateToISOString),t=>ev=t.usePollingQuery,t=>eg=t.default]]},["121h32","6m9vgr","1essqv","wgun1f","jppfwt","1ys6v1","1s6q22","17thqz","1o4yt4","fkji80","34bu7w","p9ucm8","12rns1","1dpzon","v1gmh9","x0lcjw","52far5","ag9b0s","sa2a6q","1mqwhq","1r6ayw","ljqkwp","1obrjv","tr3542","1qndsd","1iyqcw","fgwvq1","s2gl90","1mvpl5","6g4avl","1d3i8k","155gpl","1w1yg7","1xm2jz","z2nh2s","155nvb","5c85y0","10hkn2","1i2c6c","cmu52y","s1ymgp","1us71h","9qbdxh","b6uhp2","euncuq","1bhtf5","chlym8","1ktovr","1n7muc","do522n","1a55je","1yr8sh","5089af","dvcr7s","1x55bm","df03dz","1lzos1","13r7em","zthkss","ecgxx4","19d7e9","1wxjzr","moetoc","zq967r","17dkke","1u6rc4","cgyk2p","1vwspd","1mim55","1o80y5","q32oeq","19ygz8","11lu7r","1rnfq5","1u9ykn","l8yt2z","yy6083","c38d9g","1gbsde","1r67pl","11k892","apap77","o3mm96","q1iiul","1wud56","arwcu3","1xnjg7","nm5bm4","nnv8q4","1t5u5d","1wiwou","1wzt33","9sov81","1rz5wu","5zxkkr","1tf8ft","vm25t0","1vnfaw","yw8i09","1tochu","q78r13","ewpu2f","1w9f8i","iun8xg","135mhg","1q6pt2","ljizri","18fue0","bug23c","1bp96i","1c5q3i","p3y1zq","3aiijo","1al4vi","1o5y7t","1fbuhs","ec91du"]]);
