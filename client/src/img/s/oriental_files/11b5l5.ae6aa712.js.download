(this.$WP=this.$WP||[]).push(["11b5l5",(e,t)=>{var a,r,l,n,i,s,o,u,c,d,p,T,h,y,g,b,R,v,m,A,S,N,f,_,k,O,I,C,E,w,M,P,H,L={__key:59392074389379,id:"36044b7f178388df8e2203ed86df5001",loc:{},definitions:[]},U={__key:0x7a84604bf8da,id:"7a84604bf8da07d67643f0d3dc37c518",loc:{},definitions:[]},D=(e,t,r=!1)=>{var{locationV2:l,defaultUrl:n,hotelsUrl:i,attractionOverviewURL:s,restaurantOverviewURL:o}=e??{},{locationId:u,placeType:c,isGeo:d,names:p,vacationRentalsRoute:T}=l??{};if(null==u||u<=1||null!=t&&!0!==d)return null;var h=i??s??o??T?.url??n;return null==h?null:{key:String(u),title:p?.name??"",subtitle:p?.longOnlyHierarchyTypeaheadV2,label:r?a(m,{id:"social_mobile_reason_for_sponsored"}):void 0,searchText:p?.name??"",url:h,trackingType:r?"SPONSORED_LOCATION":"LOCATION",trackingPlaceType:c,locationId:u??-1}},x={__key:0xc8f09d1da793,id:"c8f09d1da7931b59aa2dcb94924c1eee",loc:{},definitions:[]},q=(e,t)=>{var{localize:a}=A(),i=p(),s=R(),o=r(!0);return l(()=>()=>{o.current=!1},[]),n(()=>{navigator.geolocation.getCurrentPosition(({coords:{latitude:a,longitude:r}})=>{S.set("rejectedLocationPermissions",!1);var l=(()=>{switch(e){case"ATTRACTIONS":return{page:"NearbyAttractions",params:{latitude:a,longitude:r}};case"HOTELS":return{page:"NearbyHotels",params:{latitude:a,longitude:r}};case"RESTAURANTS":return{page:"NearbyRestaurants",params:{latitude:a,longitude:r}};case"VACATION_RENTALS":return{page:"NearbyVacationRentals",params:{latitude:a,longitude:r}};default:return{page:"Nearby",params:{isNearby:!0,latitude:a,longitude:r}}}})();s.query(x,l).toPromise().then(({data:e})=>{t();var a=e?.routes?.[0]?.url;null!=a&&i(a)},()=>{t()})},e=>{o.current&&t(),(e.code===e.PERMISSION_DENIED||e.code===e.TIMEOUT||e.code===e.POSITION_UNAVAILABLE)&&(S.set("rejectedLocationPermissions",!0),alert(a.string("mw_js_positionPermissionDenied")))},{timeout:6e3})},[a,i,s,e,t])},V=({scope:e,onStopLoading:t})=>{var{localize:a}=A(),r="number"==typeof e.latitude&&"number"==typeof e.longitude,l=q(e.linkType,t);return r?null:{title:a.string("mx_nearby"),searchText:a.string("mx_nearby"),icon:N,trackingType:"NEARBY",key:"NEARBY",onClick:l}},j=(e,t)=>{var{title:a,authors:r}=e;return{title:a,subtitle:r,searchText:a,icon:f,trackingType:t?"SPONSORED_ARTICLE":"ARTICLE"}},z=(e,t)=>{var{name:a,stateAndCountryOrEquivalent:r}=e;return{title:a,subtitle:r,searchText:a,trackingType:t?"SPONSORED_LOCATION":"LOCATION"}},B=(e,t)=>{var{title:a,ownerDisplayName:r}=e;return{title:a,subtitle:r,searchText:a,icon:_,trackingType:t?"SPONSORED_TRIP":"TRIP"}},F=e=>{var t,r=k(),l=I(),{page:n}=h(),i=y(),{randomSponsorshipCampaign:s}=O(e),o=C(()=>{s&&l({team:"TAPS",page:n,pageUid:i,itemType:"sponsoredSearchImpression",itemId:String(s.campaignId),itemName:s.sponsorDisplayName,customData:JSON.stringify({campaignType:s.campaignType,clickUrl:s.clickUrl,sponsorId:s.sponsorId})})});if(!s)return null;var{campaignId:u,sponsorId:c,sponsorDisplayName:d,clickUrl:p,campaignType:T}=s,g=124!==s.sponsorId,b={key:String(u),label:g?a(m,{id:"sponsored_search_sponsored_label"}):void 0,url:p,onClick:()=>{r({team:"TAPS",actionType:"click",page:n,pageUid:i,itemType:"sponsoredSearchClick",itemId:String(u),itemName:d,customData:JSON.stringify({campaignType:T,clickUrl:p,sponsorId:c})})}};switch(T){case"ARTICLE":t=j(s,g);break;case"GEO":t=z(s,g);break;case"TRIP":t=B(s,g);break;default:return null}return{...b,...t,title:a("div",{ref:o,children:t.title})}},K=({isOpen:e,scope:t,onStopLoading:r})=>{var l=y(),n={isHotelsUrl:"HOTELS"===t.linkType,isAttractionsUrl:"ATTRACTIONS"===t.linkType,isRestaurantsUrl:"RESTAURANTS"===t.linkType,isRentalsUrl:"VACATION_RENTALS"===t.linkType},[{data:s}]=v({query:L,variables:n,pause:!e}),[{data:o}]=v({query:U,variables:{recentLocationsLimit:"ATTRACTION"===t.pageType||"HOTEL"===t.pageType||"RESTAURANT"===t.pageType?10:5,uid:l,...n},pause:!e}),u=w({scope:t,onStopLoading:r}),c=M(!e),d=i(()=>(s?.popularDestinations.map(e=>E(e,t.linkType))||[]).filter(Boolean).slice(0,5),[s,t.linkType]),p=i(()=>(o?.insightProfile?.locations?.map(e=>E(e?.location,t.linkType))||[]).filter(Boolean).slice(0,5),[o,t.linkType]);return i(()=>{var e,t,r=[];return null!=u&&r.push(u),null!=c&&r.push(c),p.length>0?(e=a(m,{id:"dual_search_recently_viewed_all_caps"}),t=r.length,r.push(...p)):d.length>0&&(e=a(m,{id:"dual_search_popular_destinations"}),t=r.length,r.push(...d)),{results:r,header:e,headerIndex:t}},[u,c,d,p])},G=({source:e,scope:t,maxItems:a,onClose:i,isOpen:o,onOpen:u,query:c,setQuery:d,searchMode:y="SingleSearch",highlightFirstResult:R=!1,shouldNavigateForResult:v=()=>!0,onResultSelected:m,loadingTimeLimit:A,showRecentResults:S=!1,scopeSRPToLinkType:N=!1,runQueryOnConfigChange:f=!1})=>{var _=h(),k=p(),[O,I]=s(0),[C,E]=s(!1),{results:{results:w,resultsId:M},logTypeaheadOpened:H,logResultSelection:L,logSearchAction:U,searchSessionId:D}=g(c,e,t,y,a,void 0,void 0,S,N,f),x=n(()=>{E(!1)},[]),q=P({scope:t,isOpen:o,onStopLoading:x}),V=0===w.length||!c.length||c.length<b,j=V?q.results:w,z=r("");l(()=>{M!==z.current&&(I(Date.now()),z.current=M)},[M]);var[B,F]=s(null),K=R&&null==B?0:B,G=null!=B&&j[B]?.searchText||c,Y=n((e,t)=>{L(t,V,e,j.findIndex(t=>t.key===e.key),O)},[j,L,O,V]),$=n(e=>{if(null!=e){if(0!==e.button||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)return;if(_.path===e.currentTarget.pathname&&T.get(_.page)?.isClientNavigable({sourcePage:_.page})){null!=i&&i();return}}E(!0)},[_,i]),J=n(e=>{(!o||e)&&(u&&u(),F(null),H(),I(Date.now()))},[u,o,H]),Q=n(()=>{o&&(F(null),i&&i())},[o,i]),W=n(e=>{d(e),F(null),e.length>=b&&J()},[d,J]),X=n(t=>{switch(t.keyCode){case 38:o?F(e=>null==e?j.length-1:e>0?e-1:null):J(),t.preventDefault();break;case 40:o?F(e=>null==e?0:e<j.length-1?e+1:null):J(),t.preventDefault();break;case 13:var a=null!=K?j[K]:null;null==a&&"SRP_SINGLE_SEARCH"===e?(Q(),t.preventDefault()):null!=a&&(Y(a,"enter"),!1===t.defaultPrevented&&(a.onClick?.(),m?.(a),F(null),v?.(a)&&null!=a.url&&k(a.url)&&E(!0),t.preventDefault()));break;case 27:Q(),t.preventDefault()}},[k,o,K,j,Q,J,Y,e,v,m]),Z=n(()=>{U(O),E(!0)},[U,O]),ee=n(()=>{F(null)},[]);l(()=>{var e=null;return C&&A&&(e=setTimeout(x,A)),()=>{e&&clearTimeout(e)}},[C,x,A]);var et=n((e,t,a)=>{var r=null==a||a.doTracking,l=null==a||a.startLoading;r&&Y(e,"click"),l&&$(t),m?.(e)},[Y,$,m]);return{displayedQuery:G,isLoading:C,results:j,header:V?q.header:void 0,headerIndex:V?q.headerIndex:void 0,selectedIndex:K,searchSessionId:D,onResultHovered:ee,onResultClicked:et,onOpen:J,onClose:Q,onSubmit:Z,onChange:W,onKeyDown:X}},Y={HOTEL:["Hotels","MobileHotels","Hotel_Review","MobileHotel_Review","HotelHighlight","MobileHotelHighlight","SmartDeals","MobileSmartDeals","HotelsList","MobileHotelsList","HotelsNear","MobileHotelsNear","NearbyHotels","MobileNearbyHotels","HotelSearch","LastMinute","TravelersChoiceHotels","ShowUserReviewsHotels"],ATTRACTION:["Attractions","MobileAttractions","Attractions_Coverpage","Attraction_Review","MobileAttraction_Review","AttractionsNear","AttractionProductReview","MobileAttractionProductReview","MobileAttractionsNear","Attraction_Products","MobileAttraction_Products","AttractionReviewSearch","MobileAttractionReviewSearch","NearbyAttractions","MobileNearbyAttractions","ShowUserReviewsAttractions","TravelersChoiceAttractions"],RESTAURANT:["Restaurants","MobileRestaurants","Restaurant_Review","MobileRestaurant_Review","RestaurantSearch","MobileRestaurantSearch","RestaurantsNear","MobileRestaurantsNear","RestaurantMenu","MobileRestaurantMenu","NearbyRestaurants","MobileNearbyRestaurants","TravelersChoiceRestaurants","ShowUserReviewsRestaurants"],FORUM:["ShowTopic","ShowForum","ListForums","ForumHome"]},$={},J=({source:e,maxItems:t=10,placeholderText:i,initialQuery:o="",hidden:p,onClose:T,scope:h,searchMode:y="SingleSearch",isModalOnly:g=!1,size:b="small",showBorder:R=!0,boxShadow:v="none",inputTypography:m="input-01",absoluteOverlayStyles:A,highlightFirstResult:S,showRecentResults:N=!1,scrimEnabled:f})=>{var[_,k]=s(g),O=n(()=>{g||k(!1),T&&T()},[T,g]),I=n(()=>{g||k(!0)},[g]),[C,E]=s(o),w=H({source:e,maxItems:t,scope:h,searchMode:y,onOpen:I,onClose:O,isOpen:_,query:C,setQuery:E,highlightFirstResult:S,showRecentResults:N}),{onOpen:M}=w,P=r(!1);return(l(()=>{g&&null!=M&&!P.current&&M(!0),P.current=_},[g,M,_]),p&&!_)?null:a(u,{component:c.typeahead,children:a(d,{...w,onResultClicked:(e,t)=>{w.onResultClicked?.(e,t)},placeholderText:i,query:C,scope:h,isOpen:_,testAttribute:`typeahead-${e}`,size:b,showBorder:R,boxShadow:v,typographyVariant:m,absoluteOverlayStyles:A,scrimEnabled:f})})};return[()=>{E=D,w=V,M=F,P=K,H=G,Object.entries(Y).forEach(([e,t])=>t.forEach(t=>{$[t]=e})),e({default:o(J),pageToTypeMappings:$,useTypeaheadState:H})},[e=>a=e.jsx,e=>(r=e.useRef,l=e.useEffect,n=e.useCallback,i=e.useMemo,s=e.useState,o=e.memo),e=>(u=e.default,c=e.Component),e=>d=e.TypeaheadUI,e=>p=e.useNavigate,e=>T=e.pages,e=>(h=e.useRoute,y=e.usePageviewUid),e=>(g=e.default,b=e.MIN_QUERY_LENGTH),e=>(R=e.useClient,v=e.useQuery),e=>(m=e.default,A=e.useLocalize),e=>S=e.default,e=>N=e.default,e=>f=e.default,e=>_=e.default,e=>k=e.default,e=>O=e.useRandomSponsorshipCampaign,e=>I=e.default,e=>C=e.useOnVisible]]},["121h32","1o4yt4","16nmgr","hwdnu5","10ad67","u5g3tb","fgwvq1","7l5hpv","1mqwhq","17thqz","tp1g68","1nc3gm","zb2uaz","1l75rc","1r73jw","1ubyuk","xg719z","13btuy"]]);
