(this.$WP=this.$WP||[]).push(["1rfo7h",(e,n)=>{var t,s,r,i,o,a,u,l,p,_,g,m,S,c,h,v,d,f,b,I,w,P,L,A,E,k=({pause:e,logImpression:n})=>s({experiment:"attractions_list_page_membership_banner_1681742647",logImpression:n},e),B="list_page_membership_banner_1678826829",N=({pause:e=!1,skipImpression:n=!1})=>{var t=o({experimentKeys:[B],skipImpression:n},e);return{fetching:null===t,bucket:t?.[B]}},G=({pause:e,logImpression:n})=>s({experiment:"membership_banner_and_heart_icon_prompt_test_1678827009",logImpression:n},e),R="list_page_banner",H=(e,n)=>{var s=t(),r=a(),i=e&&f.has(r),o=u(),l=n.includes(o);return!s&&!i&&l},x=(e=!1)=>{var n=H(e,["Restaurants","FindRestaurants"]),{bucket:t}=v({pause:!n,skipImpression:!1}),{bucket:s}=d({pause:!n,logImpression:!0});return n&&(t===R||s===R)},y=(e=!1)=>{var n=H(e,["AttractionsFusion","AttractionProductsFusion"]),{bucket:t}=h({pause:!n,logImpression:!0}),s=H(e,["AttractionsFusion"]),{bucket:r}=d({pause:!s,logImpression:!0});return n&&t===R||s&&r===R},O=()=>{var e=H(!0,["HotelsFusion"]),{bucket:n}=v({pause:!e,skipImpression:!1});return e&&n===R},T=e=>{switch(e){case"heart_icon":return"softLoginPromptSessions";case"global_nav_review":return"softLoginGlobalReviewPromptSessions";case"global_nav_sign_in":return"softLoginGlobalSignInPromptSessions";default:throw i(e),Error(`Storage key not considered for experiment ${e}`)}},U=(e,n)=>{var t=p.get(n),s=e-6048e5;return(t?JSON.parse(t):[]).filter(e=>e.dateShown>s)},F=(e,n=!1)=>{var t=l(),[s,i]=_(!1),o=T(e);return g(()=>{if(!n)try{var e=new Date().getTime(),s=U(e,o).map(e=>e.sessionId);if(s.length>=2||s.includes(t)){i(!1);return}i(!0)}catch(e){i(!1),console.error("Failed to parse JSON: ",e)}},[u(),r(),n,t,o]),!!n||s},V=e=>{var n=l(),t=T(e);return()=>{try{var e=new Date().getTime(),s=U(e,t),r=s.map(e=>e.sessionId);if(r.length>=2||r.includes(n))return;p.set(t,JSON.stringify([...s,{sessionId:n,dateShown:e}]),6048e5)}catch(e){console.error("Failed to parse soft login prompt sessions JSON: ",e)}}},M=["AttractionsFusion","Restaurants","FindRestaurants"],C=()=>{var e=t(),n=u(),s=m(),r=M.includes(n),i="MOBILE"===s,{fetching:o,bucket:a}=d({pause:!!e||!r||i,logImpression:!1});return!e&&r&&!i&&!o&&"heart_icon_prompt"===a},K=(e,n,t)=>1===e&&!("RESERVATION"===n&&"1"===t)&&!("ALL_OPTIONS"===n&&"10600"===t)&&!("ESTABLISHMENT_TYPE"===n&&"12208"===t),q=({pause:e,logImpression:n})=>s({experiment:"global_navigation_membership_prompt_test_1678827275",logImpression:n},e),D=({pause:e,logImpression:n})=>s({experiment:"nvt_reco_acq_evergreen_home_1671224434",logImpression:n},e),J=({pause:e,logImpression:n})=>s({experiment:"restaurants_list_in_lithium__with__findrestaurants__1683819495",logImpression:n},e),Z=()=>$("review"),Y=()=>$("sign_in"),$=e=>{var n=t(),s=u(),r="DESKTOP"===m(),i=F("review"===e?"global_nav_review":"global_nav_sign_in",null!==n),{fetching:o,isValid:a}=j(s),{fetching:l,isValid:p}=W(s,!!n||!r||a),{fetching:_,isValid:g}=z(s,!!n||!r||a||p),S=!o&&a||!l&&p||!_&&g,{fetching:c,bucket:h}=b({pause:!!n||!r||!S||!i,logImpression:!0}),v="review"===e?"review_global_nav_prompt"===h:"sign_in_global_nav_prompt"===h;return!n&&r&&S&&i&&!c&&v},j=e=>{var n=a(),t=!P.has(n),s=r()||0,{countryGeoId:i,fetching:o}=S("Tourism"!==e||t),u=!L.has(s)&&(i===c||s===c),l=A.has(n)&&E.has(s);return{fetching:o,isValid:"Tourism"===e&&!l&&(u||t)}},W=(e,n)=>{var t="en-US"!==a(),{fetching:s,bucket:r}=I({pause:n||"Home"!==e||!t,logImpression:!1});return{fetching:s,isValid:"Home"===e&&t&&(!r||"Control_No Ads"===r)}},z=(e,n)=>{var{fetching:t,bucket:s}=w({pause:n||"Restaurants"!==e,logImpression:!1});return{fetching:t,isValid:"Restaurants"===e&&"test"===s}};return[()=>{h=k,v=N,d=G,f=new Set(["en-AU","en-CA","en-GB","en-HK","en-IE","en-IN","en-MY","en-NZ","en-PH","en-SG","en-US","en-ZA"]),b=q,I=D,w=J,P=new Set(["en-US"]),L=new Set([54171,28970,35805,187147,189158,1954828,187895,189970]),A=new Set(["en-AU","en-CA","en-HK","en-IN","en-IE","en-MY","en-NZ","en-PH","en-SG","en-ZA","en-GB","en-UK","en-US"]),E=new Set([60750,294265,503715,295105,255094,12,3676467,143025,2049541]),e({isSoftLoginPromptEligibleRestaurantsShelf:K,useGlobalNavigationMembershipPromptBucket:b,useIsSoftLoginPromptSessionEligible:F,useListPageMembershipBannerBucket:v,useMembershipBannerAndHeartIconBucket:d,useShowSoftLoginBannerAttractions:y,useShowSoftLoginBannerHotels:O,useShowSoftLoginBannerRestaurants:x,useShowSoftLoginGlobalReviewPrompt:Z,useShowSoftLoginGlobalSignInPrompt:Y,useShowSoftLoginHeartIconPrompt:C,useUpdateSoftLoginPromptSessions:V})},[e=>t=e.useUserId,e=>(s=e.useExperimentBucket,r=e.useGeoId,i=e.exhaustivenessCheck),e=>o=e.default,e=>a=e.useLocale,e=>u=e.default,e=>l=e.useSessionId,e=>p=e.default,e=>(_=e.useState,g=e.useEffect),e=>m=e.useViewportCategory,e=>(S=e.useCountryGeoId,c=e.US_GEO_ID)]]},["52far5","a2qxj9","gugp1d","17thqz","eqoaya","1al4vi","19b9b1","1o4yt4","1ys6v1","b3ve7j"]]);
