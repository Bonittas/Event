(this.$WP=this.$WP||[]).push(["hxluky",(e,r)=>{var o,n,a,l,t,i,s,d,c,u,f,p,h,g,w,v,m,y,O="https://smartlock.google.com",b=e=>{if(!e||!e.origin||0!==e.origin.indexOf("https")||e.origin!==document.location.origin||!e.data||!e.data.indexOf||-1===e.data.indexOf("action"))return null;try{var r=JSON.parse(e.data);return r.action?r:null}catch(e){return null}},C=e=>{e&&e.origin&&0===e.origin.indexOf(O)&&e.data&&e.data.type&&e.source&&e.source.postMessage({type:"verifyAck",data:e.data.data},{targetOrigin:O})},S=e=>{var r={};try{r=JSON.parse(e)}catch(r){return console.error(`Error parsing controller result data: ${e}`),null}return"object"!=typeof r?(console.error("Parsed controller result is not an object."),null):{userId:r.user_id,hasCreatedMember:!!r.hasCreatedMember,hasAcceptedTermsOfUse:!!r.hasAcceptedTermsOfUse,loginProvider:r.loginProvider}},I=e=>{e&&console.error(`Non-empty JSCallback is returned from RegController: ${e}`)},k=({options:e,onReady:r,onShowOverlay:n,onFlowStepChange:s,forwardedRef:d,initialWidth:c})=>{var[u,f]=a(c),[p,m]=a(),[y,O]=a(!1),k="MOBILE"===h(),{onSuccess:R,isFullWidthMobile:x,isFullHeight:P}=e,M=l(()=>{var e=d.current?.contentDocument?.body;if(e){var{scrollHeight:r,scrollWidth:o}=e;r>100&&m(e.scrollHeight),o>100&&(k&&x?f("100%"):f(e.scrollWidth))}},[d,x,k]);t(()=>{if(!(d&&d.current)||!y)return()=>{};var{current:e}=d,r=e.contentDocument?.getElementById("regBody");if(r){var o=new MutationObserver(M);return o.observe(r,{attributes:!0,subtree:!0}),r.scrollHeight>100&&m(r.scrollHeight),r.scrollWidth>100&&(k&&x?f("100%"):f(r.scrollWidth)),()=>{o.disconnect()}}return()=>{}},[M,d,y,k,x]);var B=l(e=>{var r=e.resultData||"";if(r){var o=S(r);o?.hasCreatedMember,R&&R(o)}else R&&R(null);e.jsCallback&&I(e.jsCallback)},[R]),{displayOnShowOverlay:E,onClose:$,onFailure:F}=e;w("message",l(e=>{var o=b(e);if(C(e),o){var{action:a}=o;switch(a){case"successClose":B(o);break;case"reloadWindow":console.error("Unexpected reload window message is received from RegController iframe");break;case"fwdToRelativeUrl":var l=o.url||"";l||console.error("No url specified to forward to."),0!==l.indexOf("/")&&console.error(`Cannot forward to absolute url: ${l}`),window.location=l;break;case"resizeFrame":o.height>100&&P&&m("100%"),M();break;case"domReady":O(!0),r&&r();break;case"dismiss":$&&$();break;case"showOverlay":E&&n&&n();break;case"generalError":F&&F(),M();break;case"splash":case"regSignIn":case"regSignUp":case"regForgotPassword":s&&s(a),M()}}},[M,P,B,E,n,s,$,r,F]));var j=i(()=>{var r=e.extraQueryParams||{};Object.keys(r).forEach(e=>{void 0===r[e]&&delete r[e]});var o=new URLSearchParams({flow:e.flow,flowOrigin:e.flowOrigin,pid:`${e.pid}`,hideNavigation:"true",userRequestedForce:"true",returnTo:"",isLithium:"true",...r});return e.mcid&&o.append("mcid",`${e.mcid}`),e.locationId&&o.append("locationId",`${e.locationId}`),e.stateToken&&o.append("stateToken",e.stateToken),void 0!==e.requireSecure&&o.append("requireSecure",`${String(!!e.requireSecure)}`),`/RegistrationController?${o.toString()}`},[e.extraQueryParams,e.flow,e.flowOrigin,e.locationId,e.mcid,e.pid,e.requireSecure,e.stateToken]);return o("div",{className:g("EcOIc o B- M_",{Ra:!k}),style:{width:u,height:p},children:o(v,{className:"FvStu _R B- o",src:j,title:"regcontroller",style:{width:u,height:p,display:y?"block":"none"},ref:d,scrolling:"no"})})},R={spinner:"WrxVU"},x=({options:e,closeX:r})=>{var t="MOBILE"===h(),[d,c]=a(!1),u=s(null),g=l(()=>{e.displayOnShowOverlay||c(!0)},[e.displayOnShowOverlay]),w=l(()=>{c(!0)},[]),v=i(()=>o(m,{forwardedRef:u,options:e,onReady:g,onShowOverlay:w}),[g,e,w]);return n(f,{onClose:e.onClose,containerProps:{backgroundColor:"transparent",disableBodyScroll:!0},bodyProps:{isFullBleed:!0},enableCloseIcon:d&&r,roundedCorners:!t,hideBoxShadow:e.hideBoxShadow,children:[o("div",{style:{display:d?"block":"none"},children:v}),!d&&o("div",{className:R.spinner,"data-automation":e?.flow?`${e.flow}_spinner`:"flow_spinner",children:o(p,{size:"large",variant:"primary"})})]})},P=(e,r,n,t)=>{var f=c(),p=u(),[h,g]=a({flow:"CORE_COMBINED",flowOrigin:"join",pid:-1}),[w,v]=a({closeX:!0}),m=s(void 0),O=d(()=>o(y,{options:h,closeX:w.closeX}),{},[h,w]),b=l(o=>f&&!o.forceLogin?Promise.resolve({userId:f,hasCreatedMember:null}):m.current?m.current:t&&t()?("undefined"!=typeof window&&(window.location.href=`/RegistrationController?flow=${encodeURIComponent(o.flow||"CORE_COMBINED")}&pid=${encodeURIComponent(String(o.pid||-1))}&returnTo=${encodeURIComponent(e)}&fullscreen=true`),new Promise(()=>{})):(m.current=new Promise(e=>{g({flow:o.flow||"CORE_COMBINED",flowOrigin:o.flowOrigin||"join",pid:o.pid||-1,isFullWidthMobile:o.isFullWidthMobile||!1,hideBoxShadow:o.hideBoxShadow||!1,extraQueryParams:o.extraQueryParams||{},displayOnShowOverlay:o.deferShowOverlay,requireSecure:o.requireSecure||!1,locationId:n||-1,onSuccess:r=>{var n={userId:r?.userId||null,hasCreatedMember:!!r?.hasCreatedMember,loginProvider:r?.loginProvider};o.onSuccess&&o.onSuccess(n),O.close(),m.current=null,p({userId:n.userId}),e(n)},onClose:()=>{r({module:"regoverlay",action:"closed",context:[n||"",o.flow].join("|"),value:o.pid||void 0,nonInteraction:!1}),O.close(),m.current=null,o.onClose&&o.onClose()},onFailure:()=>{o.onFailure&&o.onFailure()}}),v({closeX:!1!==o.closeX}),O.open()}),m.current),[r,f,e,t,n,O,p]);return i(()=>({login:b,close:O.close}),[b,O.close])},M=({flow:e,flowOrigin:r="login",pid:n=-1,isFullWidthMobile:a=!1,forceLogin:l=!1,extraQueryParams:t={},deferShowLogin:i=!0,requireSecure:s=!1,ignoreScreenHeight:d=!1,onReady:f,onLoginSuccess:p,onLoginFailure:h,onShowOverlay:g,onFlowStepChange:w,forwardedRef:v,initialWidth:y,isFullHeight:O})=>{var b=c(),C=u();return b&&!l?null:o(m,{options:{flow:e,flowOrigin:r,pid:n,isFullWidthMobile:a,extraQueryParams:t,displayOnShowOverlay:i,requireSecure:s,isFullHeight:O,ignoreScreenHeight:d,onSuccess:e=>{C({userId:e?.userId||null}),p&&p(e)},onFailure:()=>{h&&h()}},onShowOverlay:g,onFlowStepChange:w,forwardedRef:v,initialWidth:y,onReady:f})};return[()=>{m=k,y=x,e({AuthGate:M,default:P})},[e=>(o=e.jsx,n=e.jsxs),e=>(a=e.useState,l=e.useCallback,t=e.useEffect,i=e.useMemo,s=e.useRef),e=>d=e.useVDOMPortal,e=>(c=e.useUserId,u=e.useAuthenticate),e=>f=e.default,e=>p=e.LoadingSpinner,e=>h=e.useViewportCategory,e=>g=e.default,e=>w=e.useWindow,e=>v=e.EmbeddedContent]]},["121h32","1o4yt4","14euae","52far5","17u7gi","1l9qeu","1ys6v1","fkji80","ltllz9","dyfdn5"]]);
