(this.$WP=this.$WP||[]).push(["665v5s",(e,r)=>{var s,i,t,o,n,a,d,l,p,c,u,I={__key:47869923082862,id:"2b8995c2c26e722fd22eb1cf8c527a57",loc:{},definitions:[]},m=e=>{var{children:r,...i}=e;return s(d,{value:i,children:r})},h=({source:e,attributes:r,children:i})=>{var n=t.useContext(a),[d,l]=t.useState(),[p,c]=t.useState(!1),u=!(Object.keys(n).length>0)||n.isImpressionLogged,[,h]=o(I),v=n.impressionId||null,g=r[e],T=JSON.stringify(r),L=t.useMemo(()=>({[e]:r[e],parentId:v}),[e,v,T]);return(t.useEffect(()=>{u&&(c(!1),h({impressions:[L]}).then(({data:e})=>{if(e){var r=e&&e.logImpressions&&e.logImpressions[0];r&&(l(r),c(!0))}}))},[u,L,h]),g)?s(m,{impressionId:d,isImpressionLogged:p,children:i}):i},v=({trip:e,children:r,element:t,detailId:o,placeType:n})=>{var a=e.status||void 0;return s(l,{source:"tripsDetail",attributes:{tripsDetail:{tripId:e.id,status:a,relation:i(e),collaborative:!!e.collaborators&&e.collaborators.length>0,element:t,detailId:o,placeType:n}},children:r})},g={ALL_TRIPS:"ALL",PUBLIC_TRIPS:"PUBLIC",PRIVATE_TRIPS:"PRIVATE"},T=({trips:e,filterSelected:r,children:i})=>s(l,{source:"tripsHome",attributes:{tripsHome:{hasTrips:e&&e.length>0,filter:g[r]||"ALL"}},children:i}),L=(e,r)=>r?e?e&&e.owner&&!e.owner.isMe?"COLLABORATOR":e&&e.collaborators&&e.collaborators.length>0?"COLLABORATED":"EXISTING":"NEW":"FIRST",b=({element:e,trip:r,trips:i,item:t,children:o})=>{var n=i?i.length>0:void 0,a=r&&void 0!==n?L(r,n):void 0;return s(l,{source:"trips",attributes:{trips:{element:e,tripId:r&&r.id,tripType:a,hasTrips:n,dated:r&&!!r.date&&(!!r.date.to||!!r.date.from||!!r.date.duration),isSaved:t&&t.saved}},children:o})};return[()=>{n=Object.freeze({}),a=t.createContext(n),({Provider:d}=a),m.defaultProps={impressionId:void 0,isImpressionLogged:!1},l=h,p=v,c=T,u=b,e({TrackingImpressionContextProvider:m,TripTrackingImpression:a,TripsDetailImpression:p,TripsHomeImpression:c,TripsImpression:u})},[e=>s=e.jsx,e=>i=e.userRelation,e=>t=e,e=>o=e.useMutation]]},["121h32","1iyqcw","1o4yt4","1mqwhq"]]);
