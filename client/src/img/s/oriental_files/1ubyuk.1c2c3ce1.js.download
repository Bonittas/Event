(this.$WP=this.$WP||[]).push(["1ubyuk",(e,o)=>{var n,i,t,r,a,l,s,c,d,u,p,m,g,b,h,v,I,f,y,T,k,z,C,_,M,w,S,x,H,N,O,R,E,B,U,A,D={ARTICLE:"ARTICLE",TRIP:"TRIP",TOURISM:"TOURISM"},P=(e,o)=>{var{articleId:n,tripId:i,geoId:t}=o;return e===s?{pageContentId:n.toString(),pageType:D.ARTICLE}:e===c?{pageContentId:i.toString(),pageType:D.TRIP}:e===d?{pageContentId:t.toString(),pageType:D.TOURISM}:{pageContentId:null,pageType:null}},L={__key:21141499094481,id:"133a638b25d10ae02c878080670c2b16",loc:{},definitions:[]},V={__key:0xff54c874f65d,id:"ff54c874f65df7eb578d22e01adc4211",loc:{},definitions:[]},$=(e,o)=>{if(!o||!o.title||!o.route?.url)return null;var{title:n,content:i,route:{url:t}}=o,r=null!=i&&"__typename"in i&&i?.__typename==="RichContent_SlateJsContent"?i:null;return{...e,campaignType:"ARTICLE",title:n,description:r?.seoInfo?.metaDescription||null,authors:r?.authors?.map(e=>e?.author?.name).join(", ")||null,clickUrl:t,photo:r?.thumbnail?.photo?.photoSizeDynamic||null}},W=(e,o)=>{if(!o||!o.url)return null;var{url:n,thumbnail:i,locationV2:t}=o,r=t?.names||null;return r&&r.name?{...e,campaignType:"GEO",name:r.name,stateAndCountryOrEquivalent:r.stateAndCountryOrEquivalent,clickUrl:n,photo:i?.photoSizeDynamic||null}:null},G=(e,o)=>{if(!o||!o.route?.url||!o.title)return null;var{title:n,description:i,photo:t,route:{url:r},owner:a}=o,l=null!=t&&"photoSizeDynamic"in t?t?.photoSizeDynamic:null;return{...e,campaignType:"TRIP",title:n,description:i,ownerDisplayName:a?.profile?.displayName||null,clickUrl:r,photo:l}},q=e=>{if(void 0!==e){var o=Array.isArray(e?.response)?e?.response?.[0]:e?.response;if(!o||!o.content)return null;var{campaignId:n=null,sponsorId:i=null,sponsorDisplayName:t=null,content:r=null}=o,a={campaignId:n,sponsorId:i,sponsorDisplayName:t};switch(r.__typename){case"SponsorshipManager_ArticleContent":return $(a,r.articleContent);case"SponsorshipManager_GeoContent":return W(a,r.geoContent);case"SponsorshipManager_TripContent":return G(a,r.tripContent);default:return null}}},F=(e,o)=>{var t=l(),{params:a,page:s}=r(),c=i(Date.now().toString()),d=!t||e||!1,b=u in a&&a.geoId||0,h=p in a&&a.detailId||0,v=m in a&&a.tripId?a.tripId:0,{pageContentId:I,pageType:f}=P(s,{articleId:g in a&&a.forumPostId?a.forumPostId:0,tripId:v,geoId:b}),y=[o||b,h].filter(e=>0!==e),[{data:T}]=n({query:L,variables:{locationIds:y},pause:d||y?.length===0});(T?.locations||[]).forEach(e=>{var o=e?.parents?.[0]?.locationId;null!=o&&y?.push(o)});var[{data:k,fetching:z}]=n({query:V,variables:{request:[{locationIds:y,timestamp:c.current,pageContentId:I,pageType:f}]},pause:d});return{fetching:z,randomSponsorshipCampaign:q(k)}},j={backfillBanner:"Qbkpw",backfillBannerHorizon:"jQUcx",halfImageFeatureCard:"vEXdk",sponsoredBy:"MHxOK o",contents:"ycgdb H Fb o",image:"XfIiI Gi H",textSection:"wbZRt",text:"cmfsL o W",button:"CPUap s",horizonHeightOverride:"IfzFI",textSectionSponsoredVersion:"OLLkV",halfImageFeatureCardMobileHorizon:"yWTQN",imageMobileHorizon:"mOZIw _U",contentsMobileHorizon:"SozsP H Fb o",sponsoredByMobileHorizon:"oStfU",sponsoredByMobileHorizonText:"yXcuw o W",textSectionMobileHorizon:"JLfla u",textSectionMobileHorizonNoSponsor:"EJdwc",titleMobileHorizon:"HpDFG o W",buttonMobileHorizon:"hgAEJ",buttonMobileHorizonText:"zWvZE Wb",halfImageFeatureCardMobileVersion:"giteA",sponsoredByMobileVersion:"DLhsI",contentsMobileVersion:"xGwkQ",imageMobileVersion:"iLoaf",textSectionMobileVersion:"BGuiv",textMobileVersion:"nsvzk o W"},J="MOBILE",Q="plus",X="on-dark",Z=({titleText:e,campaignId:o,subtitleText:n="",ctaText:l,image:s,clickUrl:c,sponsorId:d=0,sponsorName:u="",campaignType:p="",buttonVariant:m=X,backgroundColor:g="plusBackground",isHorizon:N=!1,viewportOverride:O})=>{var{page:R}=r(),{localize:E}=v(),B=a(),U=x(),A=S(),D=I(),P=y(g),L=i(null),{width:V}=H.useElementRect(L,2e3),$=((void 0!==V&&!N&&V<550?J:void 0)||O||D)===J,W=124!==d,G=()=>$&&N?"onLightText":P||$?"onDarkText":void 0,q=w(()=>{A({itemType:`ContentWidget${p}`,itemGroup:"ContentWidget",itemName:u,itemId:`${o}`,customData:JSON.stringify({campaignType:p,clickUrl:c,sponsorId:d}),team:"TAPS",page:R,pageUid:B})}),F=t(()=>{U({itemType:`ContentWidget${p}Click`,itemGroup:"ContentWidget",itemId:`${o}`,itemName:u,customData:JSON.stringify({campaignType:p,clickUrl:c,sponsorId:d}),page:R,team:"TAPS",actionType:"click",pageUid:B})},[o,p,c,U,R,B,d,u]);return $&&N?b("div",{className:j.backfillBanner,children:b(k,{href:c,display:"block",theme:"none",target:"_blank",onClick:()=>F(),children:h("section",{ref:q,"aria-label":`${e} ${n} ${l}`,className:f(j.halfImageFeatureCardMobileHorizon,T({backgroundColor:g})),children:[s&&b("div",{className:f(j.imageMobileHorizon),children:b(z,{source:s,width:"100%",height:"100%",sizeHint:"40vw"})}),h("div",{className:j.contentsMobileHorizon,children:[W&&b("div",{className:j.sponsoredByMobileHorizon,children:b(M,{variant:"supporting-02",color:G(),children:b("div",{className:f(j.sponsoredByMobileHorizonText),children:E.string("content_widget_sponsored_by_low",{name:u})})})}),b("div",{className:f(j.textSectionMobileHorizon,{[j.textSectionMobileHorizonNoSponsor]:!W}),children:b(M,{variant:"input-01",color:G(),children:b("div",{className:f(j.titleMobileHorizon),children:e})})}),b("div",{className:f(j.buttonMobileHorizon),children:b(M,{variant:"button-04",color:G(),children:b("div",{className:f(j.buttonMobileHorizonText),children:l})})})]})]})})}):b("div",{ref:L,className:f(j.backfillBanner,{[j.backfillBannerHorizon]:N}),children:b(k,{href:c,display:"block",theme:"none",target:"_blank",onClick:()=>F(),children:h("section",{ref:q,"aria-label":`${e} ${n} ${l}`,className:f(j.halfImageFeatureCard,{[j.horizonHeightOverride]:N},T({backgroundColor:g}),{[j.halfImageFeatureCardMobileVersion]:$}),children:[s&&b("div",{className:f(j.image,{[j.imageMobileVersion]:$}),children:b(z,{source:s,width:"100%",height:"100%",sizeHint:"30vw"})}),h("div",{className:f(j.contents,{[j.contentsMobileVersion]:$}),children:[W&&b("div",{className:f(j.sponsoredBy,{[j.sponsoredByMobileVersion]:$}),children:b(C,{variant:P||$?"secondary":"primary",children:E.string("content_widget_sponsored_by",{name:u})})}),h("div",{className:f(j.textSection,{[j.textSectionMobileVersion]:$,[j.textSectionSponsoredVersion]:W}),children:[b(M,{variant:"title-03",color:G(),children:b("div",{className:f(j.text),children:e})}),null!=n&&b(M,{variant:"body-01",color:G(),children:b("div",{className:f(j.text,{[j.textMobileVersion]:$}),children:n})})]}),b("div",{className:j.button,children:b(_,{variant:$||m!==Q?$&&m===Q?s?X:Q:$?X:P?X:void 0:Q,tabIndex:-1,fullWidth:!0,children:l})})]})]})})})},K=(e,o,n)=>`${n}${""!==o?`https://${o}`:o}${e}`,Y=({data:e,isHorizon:o,viewportOverride:n,clickTrackerUrl:i})=>{var{localize:t}=v(),{name:r,clickUrl:a,sponsorId:l,sponsorDisplayName:s,photo:c,campaignId:d,campaignType:u}=e,p=E(a,N(),i||"");return b(R,{sponsorName:s,titleText:t.string("content_widget_discover_geo",{geo:r}),subtitleText:t.string("content_widget_travelers_like",{geo:r}),ctaText:t.string("content_widget_explore"),image:c||"",clickUrl:p,sponsorId:l,campaignId:d,campaignType:u,backgroundColor:"pinkBackground",isHorizon:o,viewportOverride:n})},ee=({data:e,isHorizon:o,viewportOverride:n,clickTrackerUrl:i})=>{var{localize:t}=v(),{title:r,clickUrl:a,sponsorId:l,description:s,sponsorDisplayName:c,photo:d,campaignId:u,campaignType:p}=e,m=E(a,N(),i||"");return b(R,{sponsorName:c,titleText:r,subtitleText:s||"",ctaText:t.string("content_widget_view_now"),image:d||"",clickUrl:m,sponsorId:l,campaignId:u,campaignType:p,backgroundColor:"creamBackground",isHorizon:o,viewportOverride:n})},eo=({data:e,isHorizon:o,viewportOverride:n,clickTrackerUrl:i})=>{var{localize:t}=v(),{title:r,clickUrl:a,sponsorId:l,description:s,sponsorDisplayName:c,photo:d,campaignId:u,campaignType:p}=e,m=E(a,N(),i||"");return b(R,{sponsorName:c,titleText:r,subtitleText:s||"",ctaText:t.string("content_widget_read_now"),image:d||"",clickUrl:m,sponsorId:l,campaignId:u,campaignType:p,backgroundColor:"purple80Background",isHorizon:o,viewportOverride:n})},en=({data:e,isHorizon:o,viewportOverride:n,clickUrl:i})=>{switch(e.campaignType){case"GEO":return b(B,{data:e,isHorizon:o,viewportOverride:n,clickTrackerUrl:i});case"TRIP":return b(U,{data:e,isHorizon:o,viewportOverride:n,clickTrackerUrl:i});case"ARTICLE":return b(A,{data:e,isHorizon:o,viewportOverride:n,clickTrackerUrl:i});default:return null}};return[()=>{O=F,R=Z,E=K,B=Y,U=ee,A=eo,e({ContentWidget:en,useRandomSponsorshipCampaign:O})},[e=>n=e.useQuery,e=>(i=e.useRef,t=e.useCallback),e=>(r=e.useRoute,a=e.usePageviewUid),e=>l=e.useIsMounted,e=>(s=e.ARTICLES_PAGE,c=e.TRIPS_PAGE,d=e.TOURISM,u=e.GEO_ID,p=e.DETAIL_ID,m=e.TRIP_ID,g=e.ARTICLE_ID),e=>(b=e.jsx,h=e.jsxs),e=>v=e.useLocalize,e=>I=e.useViewportCategory,e=>(f=e.default,y=e.isDarkBackgroundColor,T=e.backgroundColor),e=>k=e.default,e=>z=e.default,e=>C=e.default,e=>_=e.default,e=>M=e.default,e=>w=e.useOnVisible,e=>S=e.default,e=>x=e.default,e=>H=e.ElementSizeObserver,e=>N=e.useDomainName]]},["1mqwhq","1o4yt4","fgwvq1","1mb2nz","eozxiw","121h32","17thqz","1ys6v1","gw8uw6","lr6tb6","34bu7w","oz3g7e","jppfwt","1essqv","13btuy","xg719z","1r73jw","j8mzb2","qlcuu5"]]);
