(this.$WP=this.$WP||[]).push(["1973cc",(e,t)=>{function n(e){var[t,n]=o(!1);return a(()=>{var t=M(e,()=>n(!0));return()=>t()},[e]),t}var o,a,r,c,i,d,s,u,l,f,b,C,p,E,h,g="TATrkConsent",v="forceConsentOptOut",A={expires:365},I={UNINITIALIZED:"uninitialized",CONSENT_PENDING:"pending",CONSENT_CATEGORIES_RECEIVED:"received",TIMED_OUT:"timeout"},T={TARGETING:"targeting",PERFORMANCE:"performance",FUNCTIONAL:"functional",SOCIAL_MEDIA:"social media",ALL:"all",ESSENTIAL:"essential",ADVERTISING:"targeting",ANALYTICS:"performance"},N={targeting:"ADV",performance:"ANA",functional:"FUNCTIONAL","social media":"SOCIAL_MEDIA",all:"ALL"},O=e=>{var t=[],n=[];if(void 0!==e){if(e.all||e.targeting&&e.performance)return'{"out":"","in":"ALL"}';var{all:o,...a}=N;Object.keys(a).forEach(o=>{if(o!==T.ESSENTIAL){var a=N[o];!0===e[o]?t.push(a):n.push(a)}})}return JSON.stringify({out:n.join(),in:t.join()})};function m(){return"1"===c.get(v)}function S(){var e=d.get("WP.consentCountry");return e?.countryCode&&e?.stateCode?e:null}function D(e,t){var n=e.findIndex(e=>e===t);e.splice(n,1)}var y={at:"01b5a903-761a-4668-9e6f-c4f14344adf9",be:"2ec0cacd-54bc-4e0a-9b19-2bcf7e252575",ca:"acea4da1-0a91-4e4c-b616-d992acb32ee7",ch:"d3b84a78-ccce-457f-b04f-777af3e32a19",cl:"ec09cd2e-1ea8-4544-aa95-e0683745e2ca",co:"95e8019c-73ae-449f-96f6-b0b56aadd803","co.id":"280d04e8-990d-4dc0-b774-a2719e48e33c","co.il":"c6c60c32-9d64-40eb-861e-f7ed2ece8077","co.kr":"54883430-df32-4105-b41a-31f3e8d95295","co.nz":"fca3c39a-1025-4d23-a80e-4ab100fdf76a","co.uk":"4bcba976-4fb1-49a3-8650-6c00aa6f06e7","co.za":"8468feec-ded3-4062-be06-942986f21025",com:"750167a5-efc5-4aad-aea3-3ff22bb51bc7","com.ar":"8a6da335-dc05-4fa2-8c7f-2742ee45c002","com.au":"84c0239b-7771-4c7f-86aa-e09c1cd0eec4","com.br":"ab064859-00dd-4d51-9274-69ce29ddbf08","com.eg":"6ea50ce6-b412-4476-8fa0-7aea570c9794","com.gr":"9eaca89c-e2df-453e-9f5a-41c7f86a02a1","com.hk":"4575e517-5f2c-4a50-b449-793ffd302bf8","com.mx":"607a98a6-2f34-4851-ae90-c15d732934a5","com.my":"419a8677-639b-4547-9b32-2e2b318bad8a","com.pe":"8c0b9c9d-07e6-40e9-83e1-b1180e6a4d8d","com.ph":"87283425-28c1-4dc8-bae7-4f86951023da","com.sg":"9fe57a6f-5e68-4d34-ba5a-1ca344c25b5d","com.tr":"2b1f5f5c-f8c6-4430-9e91-7dba46d6cf65","com.tw":"f8800d50-e931-41a2-81ae-edbde4a1f9be","com.ve":"5c1e43c8-d6bb-4327-a97e-2a719e512b86",de:"c941549a-a68c-4db6-a619-8fae34658837",dk:"d5f1db05-1f19-4994-894e-3ad4f594f4d2",es:"a0667abd-9fe7-4a0e-8564-237c3f90a8a3",fr:"76c066fc-a7fa-43c0-98d3-fbac953b526b",ie:"32ae072e-d1c7-4401-b97d-67c9e2da61a0",in:"98d7ae31-406c-413a-bef7-c7d410cdb6f6",it:"689aeea5-8acd-453d-b2d5-340d41baa5aa",jp:"3af3c4bc-f4fe-44f0-a32d-734ca23835ad",nl:"201121d3-074f-4c9d-bdbe-6346a78caf61",pt:"9aafd5c7-30b5-425c-8976-670ce7eefd2e",ru:"4cb9f6f0-c91d-4b88-914a-38c4349831d6",se:"31b7f752-37a0-495f-8dc2-134b2b936b71"},L=0,R=[],G=[],P={name:"opt-out",country:"US",state:"MA"};function U(){try{var e=globalThis.Optanon.GetDomainData().ConsentModel.Name,{country:t,state:n}=globalThis.Optanon.getGeolocationData();if("opt-in"===e||"opt-out"===e)return{name:e,country:t,state:n};return console.error(`Invalid consent model "${e}". Defaulting to "opt-out"`),P}catch(e){return console.error('Could not determine consent model. Defaulting to "opt-out"',e),P}}function _(e){var t;e&&Object.entries(e).forEach(([e,t])=>{h.set(e,!!t)}),t=O(e),c.set(g,btoa(t),A),R.forEach(e=>e()),R.length=0}var w=e=>{var t=window?.location?.hostname||"",n=S();if(n&&(globalThis.OneTrust={geolocationResponse:n}),m()){E=I.CONSENT_CATEGORIES_RECEIVED,_({[T.PERFORMANCE]:!1,[T.FUNCTIONAL]:!1,[T.TARGETING]:!1,[T.SOCIAL_MEDIA]:!1}),G.forEach(e=>e()),G.length=0;return}if(E===I.UNINITIALIZED){E=I.CONSENT_PENDING;var o=setTimeout(()=>{E=I.TIMED_OUT,_()},5e3);(function({hostname:e,onConsentUpdate:t,onInit:n}){if("undefined"==typeof window||!globalThis.document)throw Error("Attempted to load OneTrust during SSR");var o=!!c.get("OptanonAlertBoxClosed");globalThis.OptanonWrapper=()=>{L++;var{name:e}=U();if(1===L&&n(),"opt-in"!==e||1!==L||o){if("opt-out"===e&&1===L||"opt-in"===e&&2===L&&!o||"opt-in"===e&&1===L&&o){t({[T.PERFORMANCE]:globalThis.OnetrustActiveGroups.includes("C0002"),[T.FUNCTIONAL]:globalThis.OnetrustActiveGroups.includes("C0003"),[T.TARGETING]:globalThis.OnetrustActiveGroups.includes("C0004"),[T.SOCIAL_MEDIA]:globalThis.OnetrustActiveGroups.includes("C0005")});return}location.reload()}};var a=e.split("tripadvisor.").pop();return i("https://cdn.cookielaw.org/scripttemplates/otSDKStub.js","WP",{charset:"UTF-8","data-domain-script":e.endsWith("tripadvisor-preview.com")||e.startsWith("localhost")?`${y.com}-test`:y[a]||y.com,"data-document-language":"true","data-ignore-ga":"true"})})({hostname:t,onConsentUpdate:e=>{E=I.CONSENT_CATEGORIES_RECEIVED,_(e)},onInit:()=>{e&&globalThis.Optanon?.setDataSubjectId?.(e),G.forEach(e=>e()),G.length=0}}).then(()=>{clearTimeout(o)})}};function k(e){if("function"!=typeof e)throw Error(`Invalid argument. Expected a function - got ${typeof e}`);var t=()=>{E!==I.TIMED_OUT&&e()};return E===I.CONSENT_CATEGORIES_RECEIVED?e():R.push(t),()=>D(R,t)}function M(e,t,n){if(!Object.values(T).includes(e))throw Error(`"${e}" is not a known consent category. Supported values are: ${Object.values(T).join(", ")}`);if("function"!=typeof t)throw Error('Invalid argument. "onConsent" should be a function');if(!["function","undefined"].includes(typeof n))throw Error('Invalid argument. "onDeclined" should be a function');var o=()=>{h.get(e)||h.get(T.ALL)?t():n&&n()};if(e===T.ESSENTIAL)return t(),()=>{};switch(E){case I.TIMED_OUT:n&&n();break;case I.CONSENT_CATEGORIES_RECEIVED:o();break;default:R.push(o)}return()=>D(R,o)}function F(){globalThis.Optanon?.ToggleInfoDisplay?.()}function j(){var[e,t]=o(void 0);return a(()=>{var e,n=(e=()=>{t(U())},globalThis.Optanon?e():G.push(e),()=>D(G,e));return()=>n()},[]),e?{isPending:!1,...e}:{isPending:!0,country:void 0,state:void 0,name:void 0}}var x=({children:e})=>{var[t,n]=o(!1);return a(()=>{var e=()=>n(!0);return M(T.ALL,e,e)},[]),t?e:null},V=({children:e,category:t=T.ALL,deferOnly:n=!1})=>{var[r,c]=o(!1);return a(()=>{var e=()=>{c(!0)},o=n?k(e):M(t,e);return()=>o()},[t,n]),r&&e},W=()=>{var{isWebview:e}=s(),t=u();a(()=>{e||w(t)},[e,t])},q=["OTAdditionalConsentString","eupubconsent-v2","OptanonConsent","OptanonAlertBoxClosed"],$={"Italy (GDPR)":{countryCode:"IT",stateCode:"01"},"France (GDPR CNIL)":{countryCode:"FR",stateCode:"01"},"Brazil (LGPD)":{countryCode:"BR",stateCode:"01"},"US California (CCPA)":{countryCode:"US",stateCode:"CA"},"US Virginia (VCDPA)":{countryCode:"US",stateCode:"VA"},"Canada (No privacy law)":{countryCode:"CA",stateCode:"01"},None:null},J=({override:e,isOptedOut:t})=>{var o={[T.TARGETING]:n(T.TARGETING),[T.PERFORMANCE]:n(T.PERFORMANCE),[T.FUNCTIONAL]:n(T.FUNCTIONAL),[T.SOCIAL_MEDIA]:n(T.SOCIAL_MEDIA)},{name:a,isPending:r,...i}=j();return t?f("div",{style:{display:"flex",flexDirection:"column"},children:[f("div",{children:['OneTrust is currently disabled because "',v,'" cookie is set.'," ",l("button",{type:"button",onClick:()=>{c.remove(v),location.reload()},children:"Clear cookie"})]}),l("i",{children:"Note: This will cause the page to reload"})]}):f("div",{style:{display:"flex",flexDirection:"column"},children:[f("div",{children:[l("b",{children:"Consent status: "}),JSON.stringify(o)]}),f("div",{children:[l("b",{children:"Consent model: "}),r?"Loading...":a]}),f("div",{children:[l("b",{children:"User geo: "}),r?"Loading...":JSON.stringify(i)]}),f("div",{children:[l("b",{children:"User geo override: "}),l("select",{value:JSON.stringify(e),onChange:e=>{(t=JSON.parse(e.target.value))?d.set("WP.consentCountry",t):d.remove("WP.consentCountry"),c.remove(g);var t,n=location.hostname,o=n.match(/\.tripadvisor\..*/u)?.[0];q.forEach(e=>{c.remove(e,o?{domain:o}:void 0)}),location.reload()},children:Object.entries($).map(([e,t])=>l("option",{value:JSON.stringify(t),children:e},e))})]}),l("i",{children:"Note: Setting/clearing the geo override will clear consent cookies and reload the page"}),l("br",{}),l("div",{children:l("button",{type:"button",onClick:()=>{c.set(v,"1"),location.reload()},children:"Force consent opt out"})}),l("i",{children:"Note: Forcing consent opt out will disable OneTrust and reload the page"})]})};function z(){var[e,t]=o(null),[n,c]=o(!1);a(()=>{t(S()),c(m())},[]);var i=r(()=>l(J,{override:e,isOptedOut:n}),[e,n]),d=null;n?d="off":e&&(d=e.countryCode),b("Consent",i,d)}var B={button:"EeuOZ D s l"},Z=()=>{var{name:e,country:t,state:n}=j();return"opt-out"===e&&"US"===t&&"CA"===n?l("button",{id:"ot-sdk-btn",className:p("ot-sdk-show-settings",B.button),children:l(C,{id:"cookie_consent_footer_prompt"})}):null};return e({enqueue:k,requestConsent:M,showConsentPreferences:F,useConsent:n,useConsentDebugPane:z,useConsentModel:j}),[()=>{E=I.UNINITIALIZED,h=new Map,e({AfterConsent:x,CategoriesEnum:T,ConsentGate:V,DoNotSellButton:Z,enqueue:k,requestConsent:M,showConsentPreferences:F,useConsent:n,useConsentDebugPane:z,useConsentFramework:W,useConsentModel:j})},[e=>(o=e.useState,a=e.useEffect,r=e.useMemo),e=>c=e.default,e=>i=e.importScript,e=>d=e.default,e=>s=e.useUserAgent,e=>u=e.useUserId,e=>(l=e.jsx,f=e.jsxs),e=>b=e.useDebugPane,e=>C=e.default,e=>p=e.default]]},["1o4yt4","5gpqhx","1q7wvk","19b9b1","1nnprh","52far5","121h32","1uvk21","17thqz","fkji80"]]);
